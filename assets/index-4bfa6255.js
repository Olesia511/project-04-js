import"./styles-66ed2c69.js";const N="https://books-backend.p.goit.global/",Dt="books/category-list",kt="books/top-books",Bt="books/category",$t="books/";async function Ot(){return await(await axios.get(`${N}${Dt}`)).data}async function Mt(){return await(await axios.get(`${N}${kt}`)).data}function xt(e){return e.split(" ").join("%20")}async function Lt(e){return await(await axios.get(`${N}${Bt}?category=${e}`)).data}async function Rt(e){return await(await axios.get(`${N}${$t}${e}`)).data}const M=document.querySelector(".categories-list");let b=null;Ot().then(e=>{const t='<li class="list-categories-item">All categories</li>'+e.map(({list_name:o})=>`<li class="list-categories-item">${o}</li>`).join("");console.log("html",t),M.insertAdjacentHTML("beforeend",t),console.log("getCategoryListArr",e);const n=M.firstChild;n.textContent,b=n,console.log(b),Nt()}).catch(e=>console.log("rej",e));M.addEventListener("click",Pt);function Pt(e){if(console.log(e.currentTarget),e.target!==b){{if(e.target===e.currentTarget)return;e.target,M.firstChild}jt(),b=e.target,console.log(b),b.classList.add("active-list-item")}}function Nt(){b.classList.add("active-list-item")}function jt(){b.classList.remove("active-list-item")}const Q="Hardcover Fiction",ye=document.querySelector(".title-category"),Ft=xt(Q);Lt(Ft).then(e=>{console.log("Get book by category",e),Ht(e)}).catch(e=>console.log(e));function Ht(e){const t=document.querySelector(".list-books-by-category"),n=e.map(({book_image:r,title:s,author:i,_id:a})=>`<li data-book-id='${a}' class="element-books-by-category js-target">
      <img src="${r}" alt="${s}" class="img-books-by-category js-target" />
      <div class="title-container js-target">
      <h3 class="name-books-by-category js-target">${s}</h3>
      <p class="title-books-by-category js-target">${i}</p>
      </div>
      </li>`).join("");return t.innerHTML=n,ye.textContent=Q,Vt(ye,Q),document.querySelectorAll(".name-books-by-category").forEach(r=>{zt()}),Ut(),n}function Vt(e,t){const n=t.split(" "),o=n[n.length-1];let r="";n.forEach(s=>{r!==""&&(r+=" "),s===o?r+=`<span class="title-category-part">${s}</span>`:r+=s}),e.innerHTML=r}function zt(){const e=window.innerWidth;let t;e>=768?t=19:t=31,document.querySelectorAll(".name-books-by-category").forEach(o=>{let r=o.textContent;if(r.length>t){const s=r.split(" ");let i="";for(const a of s)if(i.length+a.length<=t)i+=(i===""?"":" ")+a;else break;o.textContent=i+(i.length<r.length?"...":"")}})}function Ut(){const e=window.innerWidth;let t,n;e>=768?(t=32,n=5):(t=45,n=8),document.querySelectorAll(".title-books-by-category").forEach(r=>{const s=r.textContent,i=s.split(" ");if(i.length>n||s.length>t){const a=i.slice(0,n).join(" ");r.textContent=`${a}${i.length>n?"...":""}`}})}const ce=document.querySelector(".js-backdrop"),Wt=document.querySelector(".close-btn-modal"),qt=document.querySelector(".btn-add-local"),we=document.querySelector(".add-local"),Ie=document.querySelector(".remove-local");document.querySelector(".text-modal");const Gt="user-books",Kt=document.querySelector(".add-books-backend");ce.addEventListener("click",Yt);Wt.addEventListener("click",le);window.addEventListener("keydown",de);function le(){ce.classList.add("is-hidden"),window.removeEventListener("keydown",de)}function Yt(e){e.currentTarget===e.target&&le()}function de(e){e.code==="Escape"&&le()}const Jt=document.querySelector(".list-books-by-category");document.querySelector(".container-best-books");Jt.addEventListener("click",Qt);const Xt=localStorage.getItem(Gt),Zt=JSON.parse(Xt);Zt?(we.hidden=!0,Ie.hidden=!1):(we.hidden=!1,Ie.hidden=!0);qt.addEventListener("click",tn);function Qt(e){if(ce.classList.remove("is-hidden"),window.addEventListener("keydown",de),!e.target.classList.contains("js-target"))return;const t=e.target.dataset.bookId??e.target.closest("li").dataset.bookId;console.log("Get BOOK ID ======",t),Rt(t).then(n=>{let o=n.book_image,r=n.title,s=n.description,i=n.author,a=n._id;Kt.innerHTML=en(o,r,s,i),console.log("###",n),console.log("***",a)}).catch(n=>console.log(n))}function en(e,t,n,o,r){return`
  <div class="backend-box">
  <img class="img-book" src="${e}" alt="${t}" />
  <div>
 <h2 class="title-book">${t}</h2>
 <h4 class="author-book">${o}</h4>
 <p class="descr-book">${n}</p>
 <ul class="modal-img-list">
        <li>
          <a href="">
            <picture>
              <source
                srcset="
                  ./img/shop-logo-amazon.png 1x,
                  ./img/shop-logo-amazon.png 2x
                "
                media="(min-width: 1440px)"
              />
              <source
                srcset="
                  ./img/shop-logo-amazon.png 1x,
                  ./img/shop-logo-amazon.png 2x
                "
                media="(min-width: 768px)"
              />
              <source
                srcset="
                  ./img/shop-logo-amazon.png 1x,
                  ./img/shop-logo-amazon.png 2x
                "
                media="(max-width: 767px)"
              />
              <img
                class="img-modal-amazon hover-img"
                src="./img/shop-logo-amazon.png"
                alt="link-amazon"
              />
            </picture>
          </a>
        </li>
        <li>
          <a href="">
            <picture>
              
              <source
                srcset="./img/shop-logo.png 1x, ./img/shop-logo.png 2x"
              />
              <img
                class="img-modal-bookshop hover-img"
                src="./img/shop-logo.png"
                alt="link-amazon"
              />
            </picture>
          </a>
        </li>
      </ul>
 </div>
 </div>
  `}function tn(e){console.log("btn",e.target)}const nn=document.querySelector(".container-best-books");Mt().then(e=>(console.log("getTopBooksArr",e),e.map(n=>{const{list_name:o,books:r}=n,s=`<h2 class="category-title">${o}</h2>`,i=r.map(a=>rn(a));nn.insertAdjacentHTML("beforeend",s+i)}))).catch(e=>console.log("rej",e));function rn(e){const{_id:t,author:n,book_image:o,title:r}=e;return`<ul class="book-list">
  <li data-book-id="${t}"  class="book-item js-target">
    <img class="book-img js-target" src="${o}" alt="${r}" />
    <h2 class="book-title js-target">${r}</h2>
    <h3 class="author js-target">${n}</h3>
  </li>
  <button class="see-more-btn">SEE MORE</button>
</ul>`}const on=[{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:"./img/save-the-children.png",img2x:"./img/save-the-children-2x.png"},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:"./img/project-hope.png",img2x:"./img/project-hope-2x.png"},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:"./img/international-medical-corps.png",img2x:"./img/international-medical-corps-2x.png"},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:"./img/razom.png",img2x:"./img/razom-2x.png"},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:"./img/action-against-hunger.png",img2x:"./img/action-against-hunger-2x.png"},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:"./img/charity-foundation-sergiy-prytula.png",img2x:"./img/charity-foundation-sergiy-prytula-2x.png"},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:"./img/medecins-sans-frontieres.png",img2x:"./img/medecins-sans-frontieres-2x.png"},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:"./img/world-vision.png",img2x:"./img/world-vision-2x.png"},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:"./img/united24.png",img2x:"./img/united24-2x.png"}],Ee=document.querySelector(".list"),Ve=document.getElementById("toggleButton"),sn=Ve.querySelector("svg use");let B=!0;function ze(){Ee.innerHTML="";const e=B?0:3,t=B?6:9;on.slice(e,t).forEach((n,o)=>{const r=document.createElement("li"),s=document.createElement("a"),i=document.createElement("span"),a=(e+o+1).toString().padStart(2,"0");i.textContent=a;const c=document.createElement("img");c.srcset=`${n.img} 1x, ${n.img2x} 2x`,c.src=n.img,c.alt=n.title,c.classList.add("white-image"),s.href=n.url,i.classList.add("number"),s.appendChild(c),r.appendChild(i),r.appendChild(s),Ee.appendChild(r)}),B=!B,sn.setAttribute("href",B?"./img/icon.svg#icon-support-ukr-scroll-up":"./img/icon.svg#icon-support-ukr-scroll-down")}Ve.addEventListener("click",ze);ze();const Ue=function(e){const t=[];let n=0;for(let o=0;o<e.length;o++){let r=e.charCodeAt(o);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&o+1<e.length&&(e.charCodeAt(o+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++o)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},an=function(e){const t=[];let n=0,o=0;for(;n<e.length;){const r=e[n++];if(r<128)t[o++]=String.fromCharCode(r);else if(r>191&&r<224){const s=e[n++];t[o++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=e[n++],i=e[n++],a=e[n++],c=((r&7)<<18|(s&63)<<12|(i&63)<<6|a&63)-65536;t[o++]=String.fromCharCode(55296+(c>>10)),t[o++]=String.fromCharCode(56320+(c&1023))}else{const s=e[n++],i=e[n++];t[o++]=String.fromCharCode((r&15)<<12|(s&63)<<6|i&63)}}return t.join("")},We={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let r=0;r<e.length;r+=3){const s=e[r],i=r+1<e.length,a=i?e[r+1]:0,c=r+2<e.length,l=c?e[r+2]:0,u=s>>2,f=(s&3)<<4|a>>4;let m=(a&15)<<2|l>>6,g=l&63;c||(g=64,i||(m=64)),o.push(n[u],n[f],n[m],n[g])}return o.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Ue(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):an(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let r=0;r<e.length;){const s=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0;++r;const l=r<e.length?n[e.charAt(r)]:64;++r;const f=r<e.length?n[e.charAt(r)]:64;if(++r,s==null||a==null||l==null||f==null)throw new cn;const m=s<<2|a>>4;if(o.push(m),l!==64){const g=a<<4&240|l>>2;if(o.push(g),f!==64){const Ct=l<<6&192|f;o.push(Ct)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class cn extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ln=function(e){const t=Ue(e);return We.encodeByteArray(t,!0)},qe=function(e){return ln(e).replace(/\./g,"")},dn=function(e){try{return We.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function un(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof{}<"u")return{};throw new Error("Unable to locate {} object.")}const hn=()=>un().__FIREBASE_DEFAULTS__,fn=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},gn=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&dn(e[1]);return t&&JSON.parse(t)},pn=()=>{try{return hn()||fn()||gn()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Ge=()=>{var e;return(e=pn())===null||e===void 0?void 0:e.config};class mn{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,o)=>{n?this.reject(n):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,o))}}}function bn(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Ke(){try{return typeof indexedDB=="object"}catch{return!1}}function Ye(){return new Promise((e,t)=>{try{let n=!0;const o="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(o);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(o),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;t(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}function yn(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const wn="FirebaseError";class k extends Error{constructor(t,n,o){super(n),this.code=t,this.customData=o,this.name=wn,Object.setPrototypeOf(this,k.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,j.prototype.create)}}class j{constructor(t,n,o){this.service=t,this.serviceName=n,this.errors=o}create(t,...n){const o=n[0]||{},r=`${this.service}/${t}`,s=this.errors[t],i=s?In(s,o):"Error",a=`${this.serviceName}: ${i} (${r}).`;return new k(r,a,o)}}function In(e,t){return e.replace(En,(n,o)=>{const r=t[o];return r!=null?String(r):`<${o}?>`})}const En=/\{\$([^}]+)}/g;function x(e,t){if(e===t)return!0;const n=Object.keys(e),o=Object.keys(t);for(const r of n){if(!o.includes(r))return!1;const s=e[r],i=t[r];if(ve(s)&&ve(i)){if(!x(s,i))return!1}else if(s!==i)return!1}for(const r of o)if(!n.includes(r))return!1;return!0}function ve(e){return e!==null&&typeof e=="object"}const vn=1e3,Sn=2,Tn=4*60*60*1e3,_n=.5;function Se(e,t=vn,n=Sn){const o=t*Math.pow(n,e),r=Math.round(_n*o*(Math.random()-.5)*2);return Math.min(Tn,o+r)}function Je(e){return e&&e._delegate?e._delegate:e}class v{constructor(t,n,o){this.name=t,this.instanceFactory=n,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const S="[DEFAULT]";class An{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const o=new mn;if(this.instancesDeferred.set(n,o),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&o.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const o=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(o)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:o})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Dn(t))try{this.getOrInitializeService({instanceIdentifier:S})}catch{}for(const[n,o]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});o.resolve(s)}catch{}}}}clearInstance(t=S){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=S){return this.instances.has(t)}getOptions(t=S){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:o,options:n});for(const[s,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);o===a&&i.resolve(r)}return r}onInit(t,n){var o;const r=this.normalizeInstanceIdentifier(n),s=(o=this.onInitCallbacks.get(r))!==null&&o!==void 0?o:new Set;s.add(t),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&t(i,r),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const o=this.onInitCallbacks.get(n);if(o)for(const r of o)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:Cn(t),options:n}),this.instances.set(t,o),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=S){return this.component?this.component.multipleInstances?t:S:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Cn(e){return e===S?void 0:e}function Dn(e){return e.instantiationMode==="EAGER"}class kn{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new An(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var d;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(d||(d={}));const Bn={debug:d.DEBUG,verbose:d.VERBOSE,info:d.INFO,warn:d.WARN,error:d.ERROR,silent:d.SILENT},$n=d.INFO,On={[d.DEBUG]:"log",[d.VERBOSE]:"log",[d.INFO]:"info",[d.WARN]:"warn",[d.ERROR]:"error"},Mn=(e,t,...n)=>{if(t<e.logLevel)return;const o=new Date().toISOString(),r=On[t];if(r)console[r](`[${o}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Xe{constructor(t){this.name=t,this._logLevel=$n,this._logHandler=Mn,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in d))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Bn[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,d.DEBUG,...t),this._logHandler(this,d.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,d.VERBOSE,...t),this._logHandler(this,d.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,d.INFO,...t),this._logHandler(this,d.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,d.WARN,...t),this._logHandler(this,d.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,d.ERROR,...t),this._logHandler(this,d.ERROR,...t)}}const xn=(e,t)=>t.some(n=>e instanceof n);let Te,_e;function Ln(){return Te||(Te=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Rn(){return _e||(_e=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ze=new WeakMap,ee=new WeakMap,Qe=new WeakMap,z=new WeakMap,ue=new WeakMap;function Pn(e){const t=new Promise((n,o)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{n(y(e.result)),r()},i=()=>{o(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(n=>{n instanceof IDBCursor&&Ze.set(n,e)}).catch(()=>{}),ue.set(t,e),t}function Nn(e){if(ee.has(e))return;const t=new Promise((n,o)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{n(),r()},i=()=>{o(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});ee.set(e,t)}let te={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return ee.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Qe.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return y(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function jn(e){te=e(te)}function Fn(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const o=e.call(U(this),t,...n);return Qe.set(o,t.sort?t.sort():[t]),y(o)}:Rn().includes(e)?function(...t){return e.apply(U(this),t),y(Ze.get(this))}:function(...t){return y(e.apply(U(this),t))}}function Hn(e){return typeof e=="function"?Fn(e):(e instanceof IDBTransaction&&Nn(e),xn(e,Ln())?new Proxy(e,te):e)}function y(e){if(e instanceof IDBRequest)return Pn(e);if(z.has(e))return z.get(e);const t=Hn(e);return t!==e&&(z.set(e,t),ue.set(t,e)),t}const U=e=>ue.get(e);function Vn(e,t,{blocked:n,upgrade:o,blocking:r,terminated:s}={}){const i=indexedDB.open(e,t),a=y(i);return o&&i.addEventListener("upgradeneeded",c=>{o(y(i.result),c.oldVersion,c.newVersion,y(i.transaction),c)}),n&&i.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const zn=["get","getKey","getAll","getAllKeys","count"],Un=["put","add","delete","clear"],W=new Map;function Ae(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(W.get(t))return W.get(t);const n=t.replace(/FromIndex$/,""),o=t!==n,r=Un.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(r||zn.includes(n)))return;const s=async function(i,...a){const c=this.transaction(i,r?"readwrite":"readonly");let l=c.store;return o&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),r&&c.done]))[0]};return W.set(t,s),s}jn(e=>({...e,get:(t,n,o)=>Ae(t,n)||e.get(t,n,o),has:(t,n)=>!!Ae(t,n)||e.has(t,n)}));class Wn{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(qn(n)){const o=n.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(n=>n).join(" ")}}function qn(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ne="@firebase/app",Ce="0.9.20";const _=new Xe("@firebase/app"),Gn="@firebase/app-compat",Kn="@firebase/analytics-compat",Yn="@firebase/analytics",Jn="@firebase/app-check-compat",Xn="@firebase/app-check",Zn="@firebase/auth",Qn="@firebase/auth-compat",er="@firebase/database",tr="@firebase/database-compat",nr="@firebase/functions",rr="@firebase/functions-compat",or="@firebase/installations",sr="@firebase/installations-compat",ir="@firebase/messaging",ar="@firebase/messaging-compat",cr="@firebase/performance",lr="@firebase/performance-compat",dr="@firebase/remote-config",ur="@firebase/remote-config-compat",hr="@firebase/storage",fr="@firebase/storage-compat",gr="@firebase/firestore",pr="@firebase/firestore-compat",mr="firebase";const re="[DEFAULT]",br={[ne]:"fire-core",[Gn]:"fire-core-compat",[Yn]:"fire-analytics",[Kn]:"fire-analytics-compat",[Xn]:"fire-app-check",[Jn]:"fire-app-check-compat",[Zn]:"fire-auth",[Qn]:"fire-auth-compat",[er]:"fire-rtdb",[tr]:"fire-rtdb-compat",[nr]:"fire-fn",[rr]:"fire-fn-compat",[or]:"fire-iid",[sr]:"fire-iid-compat",[ir]:"fire-fcm",[ar]:"fire-fcm-compat",[cr]:"fire-perf",[lr]:"fire-perf-compat",[dr]:"fire-rc",[ur]:"fire-rc-compat",[hr]:"fire-gcs",[fr]:"fire-gcs-compat",[gr]:"fire-fst",[pr]:"fire-fst-compat","fire-js":"fire-js",[mr]:"fire-js-all"};const L=new Map,oe=new Map;function yr(e,t){try{e.container.addComponent(t)}catch(n){_.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function A(e){const t=e.name;if(oe.has(t))return _.debug(`There were multiple attempts to register component ${t}.`),!1;oe.set(t,e);for(const n of L.values())yr(n,e);return!0}function F(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const wr={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},w=new j("app","Firebase",wr);class Ir{constructor(t,n,o){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new v("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw w.create("app-deleted",{appName:this._name})}}function et(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const o=Object.assign({name:re,automaticDataCollectionEnabled:!1},t),r=o.name;if(typeof r!="string"||!r)throw w.create("bad-app-name",{appName:String(r)});if(n||(n=Ge()),!n)throw w.create("no-options");const s=L.get(r);if(s){if(x(n,s.options)&&x(o,s.config))return s;throw w.create("duplicate-app",{appName:r})}const i=new kn(r);for(const c of oe.values())i.addComponent(c);const a=new Ir(n,o,i);return L.set(r,a),a}function Er(e=re){const t=L.get(e);if(!t&&e===re&&Ge())return et();if(!t)throw w.create("no-app",{appName:e});return t}function I(e,t,n){var o;let r=(o=br[e])!==null&&o!==void 0?o:e;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=t.match(/\s|\//);if(s||i){const a=[`Unable to register library "${r}" with version "${t}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&a.push("and"),i&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),_.warn(a.join(" "));return}A(new v(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const vr="firebase-heartbeat-database",Sr=1,O="firebase-heartbeat-store";let q=null;function tt(){return q||(q=Vn(vr,Sr,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(O)}}}).catch(e=>{throw w.create("idb-open",{originalErrorMessage:e.message})})),q}async function Tr(e){try{return await(await tt()).transaction(O).objectStore(O).get(nt(e))}catch(t){if(t instanceof k)_.warn(t.message);else{const n=w.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});_.warn(n.message)}}}async function De(e,t){try{const o=(await tt()).transaction(O,"readwrite");await o.objectStore(O).put(t,nt(e)),await o.done}catch(n){if(n instanceof k)_.warn(n.message);else{const o=w.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_.warn(o.message)}}}function nt(e){return`${e.name}!${e.options.appId}`}const _r=1024,Ar=30*24*60*60*1e3;class Cr{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kr(n),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=ke();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(r=>r.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const s=new Date(r.date).valueOf();return Date.now()-s<=Ar}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ke(),{heartbeatsToSend:n,unsentEntries:o}=Dr(this._heartbeatsCache.heartbeats),r=qe(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function ke(){return new Date().toISOString().substring(0,10)}function Dr(e,t=_r){const n=[];let o=e.slice();for(const r of e){const s=n.find(i=>i.agent===r.agent);if(s){if(s.dates.push(r.date),Be(n)>t){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Be(n)>t){n.pop();break}o=o.slice(1)}return{heartbeatsToSend:n,unsentEntries:o}}class kr{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ke()?Ye().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await Tr(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return De(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return De(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Be(e){return qe(JSON.stringify({version:2,heartbeats:e})).length}function Br(e){A(new v("platform-logger",t=>new Wn(t),"PRIVATE")),A(new v("heartbeat",t=>new Cr(t),"PRIVATE")),I(ne,Ce,e),I(ne,Ce,"esm2017"),I("fire-js","")}Br("");var $r="firebase",Or="10.5.0";I($r,Or,"app");const Mr=(e,t)=>t.some(n=>e instanceof n);let $e,Oe;function xr(){return $e||($e=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Lr(){return Oe||(Oe=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rt=new WeakMap,se=new WeakMap,ot=new WeakMap,G=new WeakMap,he=new WeakMap;function Rr(e){const t=new Promise((n,o)=>{const r=()=>{e.removeEventListener("success",s),e.removeEventListener("error",i)},s=()=>{n(E(e.result)),r()},i=()=>{o(e.error),r()};e.addEventListener("success",s),e.addEventListener("error",i)});return t.then(n=>{n instanceof IDBCursor&&rt.set(n,e)}).catch(()=>{}),he.set(t,e),t}function Pr(e){if(se.has(e))return;const t=new Promise((n,o)=>{const r=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",i),e.removeEventListener("abort",i)},s=()=>{n(),r()},i=()=>{o(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",s),e.addEventListener("error",i),e.addEventListener("abort",i)});se.set(e,t)}let ie={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return se.get(e);if(t==="objectStoreNames")return e.objectStoreNames||ot.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return E(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Nr(e){ie=e(ie)}function jr(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const o=e.call(K(this),t,...n);return ot.set(o,t.sort?t.sort():[t]),E(o)}:Lr().includes(e)?function(...t){return e.apply(K(this),t),E(rt.get(this))}:function(...t){return E(e.apply(K(this),t))}}function Fr(e){return typeof e=="function"?jr(e):(e instanceof IDBTransaction&&Pr(e),Mr(e,xr())?new Proxy(e,ie):e)}function E(e){if(e instanceof IDBRequest)return Rr(e);if(G.has(e))return G.get(e);const t=Fr(e);return t!==e&&(G.set(e,t),he.set(t,e)),t}const K=e=>he.get(e);function Hr(e,t,{blocked:n,upgrade:o,blocking:r,terminated:s}={}){const i=indexedDB.open(e,t),a=E(i);return o&&i.addEventListener("upgradeneeded",c=>{o(E(i.result),c.oldVersion,c.newVersion,E(i.transaction))}),n&&i.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const Vr=["get","getKey","getAll","getAllKeys","count"],zr=["put","add","delete","clear"],Y=new Map;function Me(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(Y.get(t))return Y.get(t);const n=t.replace(/FromIndex$/,""),o=t!==n,r=zr.includes(n);if(!(n in(o?IDBIndex:IDBObjectStore).prototype)||!(r||Vr.includes(n)))return;const s=async function(i,...a){const c=this.transaction(i,r?"readwrite":"readonly");let l=c.store;return o&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),r&&c.done]))[0]};return Y.set(t,s),s}Nr(e=>({...e,get:(t,n,o)=>Me(t,n)||e.get(t,n,o),has:(t,n)=>!!Me(t,n)||e.has(t,n)}));const st="@firebase/installations",fe="0.6.4";const it=1e4,at=`w:${fe}`,ct="FIS_v2",Ur="https://firebaseinstallations.googleapis.com/v1",Wr=60*60*1e3,qr="installations",Gr="Installations";const Kr={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},C=new j(qr,Gr,Kr);function lt(e){return e instanceof k&&e.code.includes("request-failed")}function dt({projectId:e}){return`${Ur}/projects/${e}/installations`}function ut(e){return{token:e.token,requestStatus:2,expiresIn:Jr(e.expiresIn),creationTime:Date.now()}}async function ht(e,t){const o=(await t.json()).error;return C.create("request-failed",{requestName:e,serverCode:o.code,serverMessage:o.message,serverStatus:o.status})}function ft({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Yr(e,{refreshToken:t}){const n=ft(e);return n.append("Authorization",Xr(t)),n}async function gt(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Jr(e){return Number(e.replace("s","000"))}function Xr(e){return`${ct} ${e}`}async function Zr({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const o=dt(e),r=ft(e),s=t.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const i={fid:n,authVersion:ct,appId:e.appId,sdkVersion:at},a={method:"POST",headers:r,body:JSON.stringify(i)},c=await gt(()=>fetch(o,a));if(c.ok){const l=await c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:ut(l.authToken)}}else throw await ht("Create Installation",c)}function pt(e){return new Promise(t=>{setTimeout(t,e)})}function Qr(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}const eo=/^[cdef][\w-]{21}$/,ae="";function to(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=no(e);return eo.test(n)?n:ae}catch{return ae}}function no(e){return Qr(e).substr(0,22)}function H(e){return`${e.appName}!${e.appId}`}const mt=new Map;function bt(e,t){const n=H(e);yt(n,t),ro(n,t)}function yt(e,t){const n=mt.get(e);if(n)for(const o of n)o(t)}function ro(e,t){const n=oo();n&&n.postMessage({key:e,fid:t}),so()}let T=null;function oo(){return!T&&"BroadcastChannel"in self&&(T=new BroadcastChannel("[Firebase] FID Change"),T.onmessage=e=>{yt(e.data.key,e.data.fid)}),T}function so(){mt.size===0&&T&&(T.close(),T=null)}const io="firebase-installations-database",ao=1,D="firebase-installations-store";let J=null;function ge(){return J||(J=Hr(io,ao,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(D)}}})),J}async function R(e,t){const n=H(e),r=(await ge()).transaction(D,"readwrite"),s=r.objectStore(D),i=await s.get(n);return await s.put(t,n),await r.done,(!i||i.fid!==t.fid)&&bt(e,t.fid),t}async function wt(e){const t=H(e),o=(await ge()).transaction(D,"readwrite");await o.objectStore(D).delete(t),await o.done}async function V(e,t){const n=H(e),r=(await ge()).transaction(D,"readwrite"),s=r.objectStore(D),i=await s.get(n),a=t(i);return a===void 0?await s.delete(n):await s.put(a,n),await r.done,a&&(!i||i.fid!==a.fid)&&bt(e,a.fid),a}async function pe(e){let t;const n=await V(e.appConfig,o=>{const r=co(o),s=lo(e,r);return t=s.registrationPromise,s.installationEntry});return n.fid===ae?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function co(e){const t=e||{fid:to(),registrationStatus:0};return It(t)}function lo(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(C.create("app-offline"));return{installationEntry:t,registrationPromise:r}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},o=uo(e,n);return{installationEntry:n,registrationPromise:o}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:ho(e)}:{installationEntry:t}}async function uo(e,t){try{const n=await Zr(e,t);return R(e.appConfig,n)}catch(n){throw lt(n)&&n.customData.serverCode===409?await wt(e.appConfig):await R(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function ho(e){let t=await xe(e.appConfig);for(;t.registrationStatus===1;)await pt(100),t=await xe(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:o}=await pe(e);return o||n}return t}function xe(e){return V(e,t=>{if(!t)throw C.create("installation-not-found");return It(t)})}function It(e){return fo(e)?{fid:e.fid,registrationStatus:0}:e}function fo(e){return e.registrationStatus===1&&e.registrationTime+it<Date.now()}async function go({appConfig:e,heartbeatServiceProvider:t},n){const o=po(e,n),r=Yr(e,n),s=t.getImmediate({optional:!0});if(s){const l=await s.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const i={installation:{sdkVersion:at,appId:e.appId}},a={method:"POST",headers:r,body:JSON.stringify(i)},c=await gt(()=>fetch(o,a));if(c.ok){const l=await c.json();return ut(l)}else throw await ht("Generate Auth Token",c)}function po(e,{fid:t}){return`${dt(e)}/${t}/authTokens:generate`}async function me(e,t=!1){let n;const o=await V(e.appConfig,s=>{if(!Et(s))throw C.create("not-registered");const i=s.authToken;if(!t&&yo(i))return s;if(i.requestStatus===1)return n=mo(e,t),s;{if(!navigator.onLine)throw C.create("app-offline");const a=Io(s);return n=bo(e,a),a}});return n?await n:o.authToken}async function mo(e,t){let n=await Le(e.appConfig);for(;n.authToken.requestStatus===1;)await pt(100),n=await Le(e.appConfig);const o=n.authToken;return o.requestStatus===0?me(e,t):o}function Le(e){return V(e,t=>{if(!Et(t))throw C.create("not-registered");const n=t.authToken;return Eo(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function bo(e,t){try{const n=await go(e,t),o=Object.assign(Object.assign({},t),{authToken:n});return await R(e.appConfig,o),n}catch(n){if(lt(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await wt(e.appConfig);else{const o=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await R(e.appConfig,o)}throw n}}function Et(e){return e!==void 0&&e.registrationStatus===2}function yo(e){return e.requestStatus===2&&!wo(e)}function wo(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Wr}function Io(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Eo(e){return e.requestStatus===1&&e.requestTime+it<Date.now()}async function vo(e){const t=e,{installationEntry:n,registrationPromise:o}=await pe(t);return o?o.catch(console.error):me(t).catch(console.error),n.fid}async function So(e,t=!1){const n=e;return await To(n),(await me(n,t)).token}async function To(e){const{registrationPromise:t}=await pe(e);t&&await t}function _o(e){if(!e||!e.options)throw X("App Configuration");if(!e.name)throw X("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw X(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function X(e){return C.create("missing-app-config-values",{valueName:e})}const vt="installations",Ao="installations-internal",Co=e=>{const t=e.getProvider("app").getImmediate(),n=_o(t),o=F(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:o,_delete:()=>Promise.resolve()}},Do=e=>{const t=e.getProvider("app").getImmediate(),n=F(t,vt).getImmediate();return{getId:()=>vo(n),getToken:r=>So(n,r)}};function ko(){A(new v(vt,Co,"PUBLIC")),A(new v(Ao,Do,"PRIVATE"))}ko();I(st,fe);I(st,fe,"esm2017");const P="analytics",Bo="firebase_id",$o="origin",Oo=60*1e3,Mo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",be="https://www.googletagmanager.com/gtag/js";const h=new Xe("@firebase/analytics");const xo={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["no-client-id"]:'The "client_id" field is empty.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},p=new j("analytics","Analytics",xo);function Lo(e){if(!e.startsWith(be)){const t=p.create("invalid-gtag-resource",{gtagURL:e});return h.warn(t.message),""}return e}function St(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function Ro(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function Po(e,t){const n=Ro("firebase-js-sdk-policy",{createScriptURL:Lo}),o=document.createElement("script"),r=`${be}?l=${e}&id=${t}`;o.src=n?n==null?void 0:n.createScriptURL(r):r,o.async=!0,document.head.appendChild(o)}function No(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function jo(e,t,n,o,r,s){const i=o[r];try{if(i)await t[i];else{const c=(await St(n)).find(l=>l.measurementId===r);c&&await t[c.appId]}}catch(a){h.error(a)}e("config",r,s)}async function Fo(e,t,n,o,r){try{let s=[];if(r&&r.send_to){let i=r.send_to;Array.isArray(i)||(i=[i]);const a=await St(n);for(const c of i){const l=a.find(f=>f.measurementId===c),u=l&&t[l.appId];if(u)s.push(u);else{s=[];break}}}s.length===0&&(s=Object.values(t)),await Promise.all(s),e("event",o,r||{})}catch(s){h.error(s)}}function Ho(e,t,n,o){async function r(s,...i){try{if(s==="event"){const[a,c]=i;await Fo(e,t,n,a,c)}else if(s==="config"){const[a,c]=i;await jo(e,t,n,o,a,c)}else if(s==="consent"){const[a]=i;e("consent","update",a)}else if(s==="get"){const[a,c,l]=i;e("get",a,c,l)}else if(s==="set"){const[a]=i;e("set",a)}else e(s,...i)}catch(a){h.error(a)}}return r}function Vo(e,t,n,o,r){let s=function(...i){window[o].push(arguments)};return window[r]&&typeof window[r]=="function"&&(s=window[r]),window[r]=Ho(s,e,t,n),{gtagCore:s,wrappedGtag:window[r]}}function zo(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(be)&&n.src.includes(e))return n;return null}const Uo=30,Wo=1e3;class qo{constructor(t={},n=Wo){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const Tt=new qo;function Go(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Ko(e){var t;const{appId:n,apiKey:o}=e,r={method:"GET",headers:Go(o)},s=Mo.replace("{app-id}",n),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const c=await i.json();!((t=c.error)===null||t===void 0)&&t.message&&(a=c.error.message)}catch{}throw p.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function Yo(e,t=Tt,n){const{appId:o,apiKey:r,measurementId:s}=e.options;if(!o)throw p.create("no-app-id");if(!r){if(s)return{measurementId:s,appId:o};throw p.create("no-api-key")}const i=t.getThrottleMetadata(o)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Zo;return setTimeout(async()=>{a.abort()},n!==void 0?n:Oo),_t({appId:o,apiKey:r,measurementId:s},i,a,t)}async function _t(e,{throttleEndTimeMillis:t,backoffCount:n},o,r=Tt){var s;const{appId:i,measurementId:a}=e;try{await Jo(o,t)}catch(c){if(a)return h.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:a};throw c}try{const c=await Ko(e);return r.deleteThrottleMetadata(i),c}catch(c){const l=c;if(!Xo(l)){if(r.deleteThrottleMetadata(i),a)return h.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:a};throw c}const u=Number((s=l==null?void 0:l.customData)===null||s===void 0?void 0:s.httpStatus)===503?Se(n,r.intervalMillis,Uo):Se(n,r.intervalMillis),f={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return r.setThrottleMetadata(i,f),h.debug(`Calling attemptFetch again in ${u} millis`),_t(e,f,o,r)}}function Jo(e,t){return new Promise((n,o)=>{const r=Math.max(t-Date.now(),0),s=setTimeout(n,r);e.addEventListener(()=>{clearTimeout(s),o(p.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Xo(e){if(!(e instanceof k)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class Zo{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function Qo(e,t,n,o,r){if(r&&r.global){e("event",n,o);return}else{const s=await t,i=Object.assign(Object.assign({},o),{send_to:s});e("event",n,i)}}async function es(){if(Ke())try{await Ye()}catch(e){return h.warn(p.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return h.warn(p.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function ts(e,t,n,o,r,s,i){var a;const c=Yo(e);c.then(g=>{n[g.measurementId]=g.appId,e.options.measurementId&&g.measurementId!==e.options.measurementId&&h.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>h.error(g)),t.push(c);const l=es().then(g=>{if(g)return o.getId()}),[u,f]=await Promise.all([c,l]);zo(s)||Po(s,u.measurementId),r("js",new Date);const m=(a=i==null?void 0:i.config)!==null&&a!==void 0?a:{};return m[$o]="firebase",m.update=!0,f!=null&&(m[Bo]=f),r("config",u.measurementId,m),u.measurementId}class ns{constructor(t){this.app=t}_delete(){return delete $[this.app.options.appId],Promise.resolve()}}let $={},Re=[];const Pe={};let Z="dataLayer",rs="gtag",Ne,At,je=!1;function os(){const e=[];if(bn()&&e.push("This is a browser extension environment."),yn()||e.push("Cookies are not available."),e.length>0){const t=e.map((o,r)=>`(${r+1}) ${o}`).join(" "),n=p.create("invalid-analytics-context",{errorInfo:t});h.warn(n.message)}}function ss(e,t,n){os();const o=e.options.appId;if(!o)throw p.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)h.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw p.create("no-api-key");if($[o]!=null)throw p.create("already-exists",{id:o});if(!je){No(Z);const{wrappedGtag:s,gtagCore:i}=Vo($,Re,Pe,Z,rs);At=s,Ne=i,je=!0}return $[o]=ts(e,Re,Pe,t,Ne,Z,n),new ns(e)}function is(e=Er()){e=Je(e);const t=F(e,P);return t.isInitialized()?t.getImmediate():as(e)}function as(e,t={}){const n=F(e,P);if(n.isInitialized()){const r=n.getImmediate();if(x(t,n.getOptions()))return r;throw p.create("already-initialized")}return n.initialize({options:t})}function cs(e,t,n,o){e=Je(e),Qo(At,$[e.app.options.appId],t,n,o).catch(r=>h.error(r))}const Fe="@firebase/analytics",He="0.10.0";function ls(){A(new v(P,(t,{options:n})=>{const o=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();return ss(o,r,n)},"PUBLIC")),A(new v("analytics-internal",e,"PRIVATE")),I(Fe,He),I(Fe,He,"esm2017");function e(t){try{const n=t.getProvider(P).getImmediate();return{logEvent:(o,r,s)=>cs(n,o,r,s)}}catch(n){throw p.create("interop-component-reg-failed",{reason:n})}}}ls();const ds={apiKey:"AIzaSyBh_gP2-PCBwVg50C_dx9X-7DONSJushXU",authDomain:"book-team-project-js-04.firebaseapp.com",projectId:"book-team-project-js-04",storageBucket:"book-team-project-js-04.appspot.com",messagingSenderId:"662639254549",appId:"1:662639254549:web:06bfb144698d9a8531821c",measurementId:"G-GT0HHT9VRW"},us=et(ds),hs=is(us);console.log(hs);
