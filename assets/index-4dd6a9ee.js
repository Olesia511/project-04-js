import"./styles-66ed2c69.js";const ae="https://books-backend.p.goit.global/",vt="books/category-list",_t="books/top-books",St="books/category";async function At(){return await(await axios.get(`${ae}${vt}`)).data}async function Ct(){return await(await axios.get(`${ae}${_t}`)).data}function Dt(e){return e.split(" ").join("%20")}async function kt(e){return await(await axios.get(`${ae}${St}?category=${e}`)).data}const M=document.querySelector(".categories-list");let b=null;At().then(e=>{const t='<li class="list-categories-item">All categories</li>'+e.map(({list_name:s})=>`<li class="list-categories-item">${s}</li>`).join("");console.log("html",t),M.insertAdjacentHTML("beforeend",t),console.log("getCategoryListArr",e);const n=M.firstChild;n.textContent,b=n,console.log(b),$t()}).catch(e=>console.log("rej",e));M.addEventListener("click",Bt);function Bt(e){if(console.log(e.currentTarget),e.target!==b){{if(e.target===e.currentTarget)return;e.target,M.firstChild}Ot(),b=e.target,console.log(b),b.classList.add("active-list-item")}}function $t(){b.classList.add("active-list-item")}function Ot(){b.classList.remove("active-list-item")}const Z="Hardcover Fiction",ge=document.querySelector(".title-category"),Mt=Dt(Z);kt(Mt).then(e=>{console.log("Get book by category",e),Rt(e)}).catch(e=>console.log(e));function Rt(e){const t=document.querySelector(".list-books-by-category"),n=e.map(({book_image:r,title:i,author:o,_id:a})=>`<li data-book-id='${a}' class="element-books-by-category js-target">
      <img src="${r}" alt="${i}" class="img-books-by-category js-target" />
      <div class="title-container js-target">
      <h3 class="name-books-by-category js-target">${i}</h3>
      <p class="title-books-by-category js-target">${o}</p>
      </div>
      </li>`).join("");return t.innerHTML=n,ge.textContent=Z,xt(ge,Z),document.querySelectorAll(".name-books-by-category").forEach(r=>{Lt()}),Pt(),n}function xt(e,t){const n=t.split(" "),s=n[n.length-1];let r="";n.forEach(i=>{r!==""&&(r+=" "),i===s?r+=`<span class="title-category-part">${i}</span>`:r+=i}),e.innerHTML=r}function Lt(){const e=window.innerWidth;let t;e>=768?t=19:t=31,document.querySelectorAll(".name-books-by-category").forEach(s=>{let r=s.textContent;if(r.length>t){const i=r.split(" ");let o="";for(const a of i)if(o.length+a.length<=t)o+=(o===""?"":" ")+a;else break;s.textContent=o+(o.length<r.length?"...":"")}})}function Pt(){const e=window.innerWidth;let t,n;e>=768?(t=32,n=5):(t=45,n=8),document.querySelectorAll(".title-books-by-category").forEach(r=>{const i=r.textContent,o=i.split(" ");if(o.length>n||i.length>t){const a=o.slice(0,n).join(" ");r.textContent=`${a}${o.length>n?"...":""}`}})}const Nt=document.querySelector(".container-best-books");Ct().then(e=>(console.log("getTopBooksArr",e),e.map(n=>{const{list_name:s,books:r}=n,i=`<h2 class="category-title">${s}</h2>`,o=r.map(a=>jt(a));Nt.insertAdjacentHTML("beforeend",i+o)}))).catch(e=>console.log("rej",e));function jt(e){const{_id:t,author:n,book_image:s,title:r}=e;return`<ul class="book-list">
  <li data-book-id="${t}"  class="book-item js-target">
    <img class="book-img js-target" src="${s}" alt="${r}" />
    <h2 class="book-title js-target">${r}</h2>
    <h3 class="author js-target">${n}</h3>
  </li>
  <button class="see-more-btn">SEE MORE</button>
</ul>`}const Ft=[{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:"./img/save-the-children.png",img2x:"./img/save-the-children-2x.png"},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:"./img/project-hope.png",img2x:"./img/project-hope-2x.png"},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:"./img/international-medical-corps.png",img2x:"./img/international-medical-corps-2x.png"},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:"./img/razom.png",img2x:"./img/razom-2x.png"},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:"./img/action-against-hunger.png",img2x:"./img/action-against-hunger-2x.png"},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:"./img/charity-foundation-sergiy-prytula.png",img2x:"./img/charity-foundation-sergiy-prytula-2x.png"},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:"./img/medecins-sans-frontieres.png",img2x:"./img/medecins-sans-frontieres-2x.png"},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:"./img/world-vision.png",img2x:"./img/world-vision-2x.png"},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:"./img/united24.png",img2x:"./img/united24-2x.png"}],me=document.querySelector(".list"),Pe=document.getElementById("toggleButton"),Ht=Pe.querySelector("svg use");let B=!0;function Ne(){me.innerHTML="";const e=B?0:3,t=B?6:9;Ft.slice(e,t).forEach((n,s)=>{const r=document.createElement("li"),i=document.createElement("a"),o=document.createElement("span"),a=(e+s+1).toString().padStart(2,"0");o.textContent=a;const c=document.createElement("img");c.srcset=`${n.img} 1x, ${n.img2x} 2x`,c.src=n.img,c.alt=n.title,c.classList.add("white-image"),i.href=n.url,o.classList.add("number"),i.appendChild(c),r.appendChild(o),r.appendChild(i),me.appendChild(r)}),B=!B,Ht.setAttribute("href",B?"./img/icon.svg#icon-support-ukr-scroll-up":"./img/icon.svg#icon-support-ukr-scroll-down")}Pe.addEventListener("click",Ne);Ne();const je=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let r=e.charCodeAt(s);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},Vt=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const r=e[n++];if(r<128)t[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=e[n++];t[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=e[n++],o=e[n++],a=e[n++],c=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;t[s++]=String.fromCharCode(55296+(c>>10)),t[s++]=String.fromCharCode(56320+(c&1023))}else{const i=e[n++],o=e[n++];t[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return t.join("")},Fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<e.length;r+=3){const i=e[r],o=r+1<e.length,a=o?e[r+1]:0,c=r+2<e.length,l=c?e[r+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let m=(a&15)<<2|l>>6,p=l&63;c||(p=64,o||(m=64)),s.push(n[u],n[h],n[m],n[p])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(je(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Vt(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<e.length;){const i=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0;++r;const l=r<e.length?n[e.charAt(r)]:64;++r;const h=r<e.length?n[e.charAt(r)]:64;if(++r,i==null||a==null||l==null||h==null)throw new Ut;const m=i<<2|a>>4;if(s.push(m),l!==64){const p=a<<4&240|l>>2;if(s.push(p),h!==64){const Tt=l<<6&192|h;s.push(Tt)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ut extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const zt=function(e){const t=je(e);return Fe.encodeByteArray(t,!0)},He=function(e){return zt(e).replace(/\./g,"")},Wt=function(e){try{return Fe.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function qt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof{}<"u")return{};throw new Error("Unable to locate {} object.")}const Gt=()=>qt().__FIREBASE_DEFAULTS__,Kt=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Yt=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Wt(e[1]);return t&&JSON.parse(t)},Jt=()=>{try{return Gt()||Kt()||Yt()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Ve=()=>{var e;return(e=Jt())===null||e===void 0?void 0:e.config};class Xt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function Zt(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Ue(){try{return typeof indexedDB=="object"}catch{return!1}}function ze(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;t(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}function Qt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const en="FirebaseError";class k extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=en,Object.setPrototypeOf(this,k.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N.prototype.create)}}class N{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},r=`${this.service}/${t}`,i=this.errors[t],o=i?tn(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new k(r,a,s)}}function tn(e,t){return e.replace(nn,(n,s)=>{const r=t[s];return r!=null?String(r):`<${s}?>`})}const nn=/\{\$([^}]+)}/g;function R(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const r of n){if(!s.includes(r))return!1;const i=e[r],o=t[r];if(be(i)&&be(o)){if(!R(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function be(e){return e!==null&&typeof e=="object"}const rn=1e3,sn=2,on=4*60*60*1e3,an=.5;function ye(e,t=rn,n=sn){const s=t*Math.pow(n,e),r=Math.round(an*s*(Math.random()-.5)*2);return Math.min(on,s+r)}function We(e){return e&&e._delegate?e._delegate:e}class T{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const v="[DEFAULT]";class cn{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Xt;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(dn(t))try{this.getOrInitializeService({instanceIdentifier:v})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(t=v){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=v){return this.instances.has(t)}getOptions(t=v){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(t,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(t),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&t(o,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:ln(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=v){return this.component?this.component.multipleInstances?t:v:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ln(e){return e===v?void 0:e}function dn(e){return e.instantiationMode==="EAGER"}class un{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new cn(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var d;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(d||(d={}));const fn={debug:d.DEBUG,verbose:d.VERBOSE,info:d.INFO,warn:d.WARN,error:d.ERROR,silent:d.SILENT},hn=d.INFO,pn={[d.DEBUG]:"log",[d.VERBOSE]:"log",[d.INFO]:"info",[d.WARN]:"warn",[d.ERROR]:"error"},gn=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),r=pn[t];if(r)console[r](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class qe{constructor(t){this.name=t,this._logLevel=hn,this._logHandler=gn,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in d))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?fn[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,d.DEBUG,...t),this._logHandler(this,d.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,d.VERBOSE,...t),this._logHandler(this,d.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,d.INFO,...t),this._logHandler(this,d.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,d.WARN,...t),this._logHandler(this,d.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,d.ERROR,...t),this._logHandler(this,d.ERROR,...t)}}const mn=(e,t)=>t.some(n=>e instanceof n);let we,Ie;function bn(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yn(){return Ie||(Ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ge=new WeakMap,Q=new WeakMap,Ke=new WeakMap,V=new WeakMap,ce=new WeakMap;function wn(e){const t=new Promise((n,s)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(y(e.result)),r()},o=()=>{s(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Ge.set(n,e)}).catch(()=>{}),ce.set(t,e),t}function In(e){if(Q.has(e))return;const t=new Promise((n,s)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});Q.set(e,t)}let ee={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Q.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Ke.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return y(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function En(e){ee=e(ee)}function Tn(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(U(this),t,...n);return Ke.set(s,t.sort?t.sort():[t]),y(s)}:yn().includes(e)?function(...t){return e.apply(U(this),t),y(Ge.get(this))}:function(...t){return y(e.apply(U(this),t))}}function vn(e){return typeof e=="function"?Tn(e):(e instanceof IDBTransaction&&In(e),mn(e,bn())?new Proxy(e,ee):e)}function y(e){if(e instanceof IDBRequest)return wn(e);if(V.has(e))return V.get(e);const t=vn(e);return t!==e&&(V.set(e,t),ce.set(t,e)),t}const U=e=>ce.get(e);function _n(e,t,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(e,t),a=y(o);return s&&o.addEventListener("upgradeneeded",c=>{s(y(o.result),c.oldVersion,c.newVersion,y(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const Sn=["get","getKey","getAll","getAllKeys","count"],An=["put","add","delete","clear"],z=new Map;function Ee(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(z.get(t))return z.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,r=An.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||Sn.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,r?"readwrite":"readonly");let l=c.store;return s&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),r&&c.done]))[0]};return z.set(t,i),i}En(e=>({...e,get:(t,n,s)=>Ee(t,n)||e.get(t,n,s),has:(t,n)=>!!Ee(t,n)||e.has(t,n)}));class Cn{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Dn(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Dn(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const te="@firebase/app",Te="0.9.20";const S=new qe("@firebase/app"),kn="@firebase/app-compat",Bn="@firebase/analytics-compat",$n="@firebase/analytics",On="@firebase/app-check-compat",Mn="@firebase/app-check",Rn="@firebase/auth",xn="@firebase/auth-compat",Ln="@firebase/database",Pn="@firebase/database-compat",Nn="@firebase/functions",jn="@firebase/functions-compat",Fn="@firebase/installations",Hn="@firebase/installations-compat",Vn="@firebase/messaging",Un="@firebase/messaging-compat",zn="@firebase/performance",Wn="@firebase/performance-compat",qn="@firebase/remote-config",Gn="@firebase/remote-config-compat",Kn="@firebase/storage",Yn="@firebase/storage-compat",Jn="@firebase/firestore",Xn="@firebase/firestore-compat",Zn="firebase";const ne="[DEFAULT]",Qn={[te]:"fire-core",[kn]:"fire-core-compat",[$n]:"fire-analytics",[Bn]:"fire-analytics-compat",[Mn]:"fire-app-check",[On]:"fire-app-check-compat",[Rn]:"fire-auth",[xn]:"fire-auth-compat",[Ln]:"fire-rtdb",[Pn]:"fire-rtdb-compat",[Nn]:"fire-fn",[jn]:"fire-fn-compat",[Fn]:"fire-iid",[Hn]:"fire-iid-compat",[Vn]:"fire-fcm",[Un]:"fire-fcm-compat",[zn]:"fire-perf",[Wn]:"fire-perf-compat",[qn]:"fire-rc",[Gn]:"fire-rc-compat",[Kn]:"fire-gcs",[Yn]:"fire-gcs-compat",[Jn]:"fire-fst",[Xn]:"fire-fst-compat","fire-js":"fire-js",[Zn]:"fire-js-all"};const x=new Map,re=new Map;function er(e,t){try{e.container.addComponent(t)}catch(n){S.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function A(e){const t=e.name;if(re.has(t))return S.debug(`There were multiple attempts to register component ${t}.`),!1;re.set(t,e);for(const n of x.values())er(n,e);return!0}function j(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const tr={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},w=new N("app","Firebase",tr);class nr{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new T("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw w.create("app-deleted",{appName:this._name})}}function Ye(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s=Object.assign({name:ne,automaticDataCollectionEnabled:!1},t),r=s.name;if(typeof r!="string"||!r)throw w.create("bad-app-name",{appName:String(r)});if(n||(n=Ve()),!n)throw w.create("no-options");const i=x.get(r);if(i){if(R(n,i.options)&&R(s,i.config))return i;throw w.create("duplicate-app",{appName:r})}const o=new un(r);for(const c of re.values())o.addComponent(c);const a=new nr(n,s,o);return x.set(r,a),a}function rr(e=ne){const t=x.get(e);if(!t&&e===ne&&Ve())return Ye();if(!t)throw w.create("no-app",{appName:e});return t}function I(e,t,n){var s;let r=(s=Qn[e])!==null&&s!==void 0?s:e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${t}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),S.warn(a.join(" "));return}A(new T(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const sr="firebase-heartbeat-database",ir=1,O="firebase-heartbeat-store";let W=null;function Je(){return W||(W=_n(sr,ir,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(O)}}}).catch(e=>{throw w.create("idb-open",{originalErrorMessage:e.message})})),W}async function or(e){try{return await(await Je()).transaction(O).objectStore(O).get(Xe(e))}catch(t){if(t instanceof k)S.warn(t.message);else{const n=w.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});S.warn(n.message)}}}async function ve(e,t){try{const s=(await Je()).transaction(O,"readwrite");await s.objectStore(O).put(t,Xe(e)),await s.done}catch(n){if(n instanceof k)S.warn(n.message);else{const s=w.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});S.warn(s.message)}}}function Xe(e){return`${e.name}!${e.options.appId}`}const ar=1024,cr=30*24*60*60*1e3;class lr{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new ur(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=_e();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const i=new Date(r.date).valueOf();return Date.now()-i<=cr}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=_e(),{heartbeatsToSend:n,unsentEntries:s}=dr(this._heartbeatsCache.heartbeats),r=He(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function _e(){return new Date().toISOString().substring(0,10)}function dr(e,t=ar){const n=[];let s=e.slice();for(const r of e){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),Se(n)>t){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Se(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class ur{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ue()?ze().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await or(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return ve(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return ve(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Se(e){return He(JSON.stringify({version:2,heartbeats:e})).length}function fr(e){A(new T("platform-logger",t=>new Cn(t),"PRIVATE")),A(new T("heartbeat",t=>new lr(t),"PRIVATE")),I(te,Te,e),I(te,Te,"esm2017"),I("fire-js","")}fr("");var hr="firebase",pr="10.5.0";I(hr,pr,"app");const gr=(e,t)=>t.some(n=>e instanceof n);let Ae,Ce;function mr(){return Ae||(Ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function br(){return Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ze=new WeakMap,se=new WeakMap,Qe=new WeakMap,q=new WeakMap,le=new WeakMap;function yr(e){const t=new Promise((n,s)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(E(e.result)),r()},o=()=>{s(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Ze.set(n,e)}).catch(()=>{}),le.set(t,e),t}function wr(e){if(se.has(e))return;const t=new Promise((n,s)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});se.set(e,t)}let ie={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return se.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Qe.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return E(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function Ir(e){ie=e(ie)}function Er(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(G(this),t,...n);return Qe.set(s,t.sort?t.sort():[t]),E(s)}:br().includes(e)?function(...t){return e.apply(G(this),t),E(Ze.get(this))}:function(...t){return E(e.apply(G(this),t))}}function Tr(e){return typeof e=="function"?Er(e):(e instanceof IDBTransaction&&wr(e),gr(e,mr())?new Proxy(e,ie):e)}function E(e){if(e instanceof IDBRequest)return yr(e);if(q.has(e))return q.get(e);const t=Tr(e);return t!==e&&(q.set(e,t),le.set(t,e)),t}const G=e=>le.get(e);function vr(e,t,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(e,t),a=E(o);return s&&o.addEventListener("upgradeneeded",c=>{s(E(o.result),c.oldVersion,c.newVersion,E(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const _r=["get","getKey","getAll","getAllKeys","count"],Sr=["put","add","delete","clear"],K=new Map;function De(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(K.get(t))return K.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,r=Sr.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||_r.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,r?"readwrite":"readonly");let l=c.store;return s&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),r&&c.done]))[0]};return K.set(t,i),i}Ir(e=>({...e,get:(t,n,s)=>De(t,n)||e.get(t,n,s),has:(t,n)=>!!De(t,n)||e.has(t,n)}));const et="@firebase/installations",de="0.6.4";const tt=1e4,nt=`w:${de}`,rt="FIS_v2",Ar="https://firebaseinstallations.googleapis.com/v1",Cr=60*60*1e3,Dr="installations",kr="Installations";const Br={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},C=new N(Dr,kr,Br);function st(e){return e instanceof k&&e.code.includes("request-failed")}function it({projectId:e}){return`${Ar}/projects/${e}/installations`}function ot(e){return{token:e.token,requestStatus:2,expiresIn:Or(e.expiresIn),creationTime:Date.now()}}async function at(e,t){const s=(await t.json()).error;return C.create("request-failed",{requestName:e,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function ct({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function $r(e,{refreshToken:t}){const n=ct(e);return n.append("Authorization",Mr(t)),n}async function lt(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Or(e){return Number(e.replace("s","000"))}function Mr(e){return`${rt} ${e}`}async function Rr({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const s=it(e),r=ct(e),i=t.getImmediate({optional:!0});if(i){const l=await i.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const o={fid:n,authVersion:rt,appId:e.appId,sdkVersion:nt},a={method:"POST",headers:r,body:JSON.stringify(o)},c=await lt(()=>fetch(s,a));if(c.ok){const l=await c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:ot(l.authToken)}}else throw await at("Create Installation",c)}function dt(e){return new Promise(t=>{setTimeout(t,e)})}function xr(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}const Lr=/^[cdef][\w-]{21}$/,oe="";function Pr(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=Nr(e);return Lr.test(n)?n:oe}catch{return oe}}function Nr(e){return xr(e).substr(0,22)}function F(e){return`${e.appName}!${e.appId}`}const ut=new Map;function ft(e,t){const n=F(e);ht(n,t),jr(n,t)}function ht(e,t){const n=ut.get(e);if(n)for(const s of n)s(t)}function jr(e,t){const n=Fr();n&&n.postMessage({key:e,fid:t}),Hr()}let _=null;function Fr(){return!_&&"BroadcastChannel"in self&&(_=new BroadcastChannel("[Firebase] FID Change"),_.onmessage=e=>{ht(e.data.key,e.data.fid)}),_}function Hr(){ut.size===0&&_&&(_.close(),_=null)}const Vr="firebase-installations-database",Ur=1,D="firebase-installations-store";let Y=null;function ue(){return Y||(Y=vr(Vr,Ur,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(D)}}})),Y}async function L(e,t){const n=F(e),r=(await ue()).transaction(D,"readwrite"),i=r.objectStore(D),o=await i.get(n);return await i.put(t,n),await r.done,(!o||o.fid!==t.fid)&&ft(e,t.fid),t}async function pt(e){const t=F(e),s=(await ue()).transaction(D,"readwrite");await s.objectStore(D).delete(t),await s.done}async function H(e,t){const n=F(e),r=(await ue()).transaction(D,"readwrite"),i=r.objectStore(D),o=await i.get(n),a=t(o);return a===void 0?await i.delete(n):await i.put(a,n),await r.done,a&&(!o||o.fid!==a.fid)&&ft(e,a.fid),a}async function fe(e){let t;const n=await H(e.appConfig,s=>{const r=zr(s),i=Wr(e,r);return t=i.registrationPromise,i.installationEntry});return n.fid===oe?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function zr(e){const t=e||{fid:Pr(),registrationStatus:0};return gt(t)}function Wr(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(C.create("app-offline"));return{installationEntry:t,registrationPromise:r}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=qr(e,n);return{installationEntry:n,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Gr(e)}:{installationEntry:t}}async function qr(e,t){try{const n=await Rr(e,t);return L(e.appConfig,n)}catch(n){throw st(n)&&n.customData.serverCode===409?await pt(e.appConfig):await L(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function Gr(e){let t=await ke(e.appConfig);for(;t.registrationStatus===1;)await dt(100),t=await ke(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await fe(e);return s||n}return t}function ke(e){return H(e,t=>{if(!t)throw C.create("installation-not-found");return gt(t)})}function gt(e){return Kr(e)?{fid:e.fid,registrationStatus:0}:e}function Kr(e){return e.registrationStatus===1&&e.registrationTime+tt<Date.now()}async function Yr({appConfig:e,heartbeatServiceProvider:t},n){const s=Jr(e,n),r=$r(e,n),i=t.getImmediate({optional:!0});if(i){const l=await i.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const o={installation:{sdkVersion:nt,appId:e.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},c=await lt(()=>fetch(s,a));if(c.ok){const l=await c.json();return ot(l)}else throw await at("Generate Auth Token",c)}function Jr(e,{fid:t}){return`${it(e)}/${t}/authTokens:generate`}async function he(e,t=!1){let n;const s=await H(e.appConfig,i=>{if(!mt(i))throw C.create("not-registered");const o=i.authToken;if(!t&&Qr(o))return i;if(o.requestStatus===1)return n=Xr(e,t),i;{if(!navigator.onLine)throw C.create("app-offline");const a=ts(i);return n=Zr(e,a),a}});return n?await n:s.authToken}async function Xr(e,t){let n=await Be(e.appConfig);for(;n.authToken.requestStatus===1;)await dt(100),n=await Be(e.appConfig);const s=n.authToken;return s.requestStatus===0?he(e,t):s}function Be(e){return H(e,t=>{if(!mt(t))throw C.create("not-registered");const n=t.authToken;return ns(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function Zr(e,t){try{const n=await Yr(e,t),s=Object.assign(Object.assign({},t),{authToken:n});return await L(e.appConfig,s),n}catch(n){if(st(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await pt(e.appConfig);else{const s=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await L(e.appConfig,s)}throw n}}function mt(e){return e!==void 0&&e.registrationStatus===2}function Qr(e){return e.requestStatus===2&&!es(e)}function es(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Cr}function ts(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function ns(e){return e.requestStatus===1&&e.requestTime+tt<Date.now()}async function rs(e){const t=e,{installationEntry:n,registrationPromise:s}=await fe(t);return s?s.catch(console.error):he(t).catch(console.error),n.fid}async function ss(e,t=!1){const n=e;return await is(n),(await he(n,t)).token}async function is(e){const{registrationPromise:t}=await fe(e);t&&await t}function os(e){if(!e||!e.options)throw J("App Configuration");if(!e.name)throw J("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw J(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function J(e){return C.create("missing-app-config-values",{valueName:e})}const bt="installations",as="installations-internal",cs=e=>{const t=e.getProvider("app").getImmediate(),n=os(t),s=j(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},ls=e=>{const t=e.getProvider("app").getImmediate(),n=j(t,bt).getImmediate();return{getId:()=>rs(n),getToken:r=>ss(n,r)}};function ds(){A(new T(bt,cs,"PUBLIC")),A(new T(as,ls,"PRIVATE"))}ds();I(et,de);I(et,de,"esm2017");const P="analytics",us="firebase_id",fs="origin",hs=60*1e3,ps="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",pe="https://www.googletagmanager.com/gtag/js";const f=new qe("@firebase/analytics");const gs={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["no-client-id"]:'The "client_id" field is empty.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},g=new N("analytics","Analytics",gs);function ms(e){if(!e.startsWith(pe)){const t=g.create("invalid-gtag-resource",{gtagURL:e});return f.warn(t.message),""}return e}function yt(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function bs(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function ys(e,t){const n=bs("firebase-js-sdk-policy",{createScriptURL:ms}),s=document.createElement("script"),r=`${pe}?l=${e}&id=${t}`;s.src=n?n==null?void 0:n.createScriptURL(r):r,s.async=!0,document.head.appendChild(s)}function ws(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function Is(e,t,n,s,r,i){const o=s[r];try{if(o)await t[o];else{const c=(await yt(n)).find(l=>l.measurementId===r);c&&await t[c.appId]}}catch(a){f.error(a)}e("config",r,i)}async function Es(e,t,n,s,r){try{let i=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const a=await yt(n);for(const c of o){const l=a.find(h=>h.measurementId===c),u=l&&t[l.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(t)),await Promise.all(i),e("event",s,r||{})}catch(i){f.error(i)}}function Ts(e,t,n,s){async function r(i,...o){try{if(i==="event"){const[a,c]=o;await Es(e,t,n,a,c)}else if(i==="config"){const[a,c]=o;await Is(e,t,n,s,a,c)}else if(i==="consent"){const[a]=o;e("consent","update",a)}else if(i==="get"){const[a,c,l]=o;e("get",a,c,l)}else if(i==="set"){const[a]=o;e("set",a)}else e(i,...o)}catch(a){f.error(a)}}return r}function vs(e,t,n,s,r){let i=function(...o){window[s].push(arguments)};return window[r]&&typeof window[r]=="function"&&(i=window[r]),window[r]=Ts(i,e,t,n),{gtagCore:i,wrappedGtag:window[r]}}function _s(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(pe)&&n.src.includes(e))return n;return null}const Ss=30,As=1e3;class Cs{constructor(t={},n=As){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const wt=new Cs;function Ds(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function ks(e){var t;const{appId:n,apiKey:s}=e,r={method:"GET",headers:Ds(s)},i=ps.replace("{app-id}",n),o=await fetch(i,r);if(o.status!==200&&o.status!==304){let a="";try{const c=await o.json();!((t=c.error)===null||t===void 0)&&t.message&&(a=c.error.message)}catch{}throw g.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function Bs(e,t=wt,n){const{appId:s,apiKey:r,measurementId:i}=e.options;if(!s)throw g.create("no-app-id");if(!r){if(i)return{measurementId:i,appId:s};throw g.create("no-api-key")}const o=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Ms;return setTimeout(async()=>{a.abort()},n!==void 0?n:hs),It({appId:s,apiKey:r,measurementId:i},o,a,t)}async function It(e,{throttleEndTimeMillis:t,backoffCount:n},s,r=wt){var i;const{appId:o,measurementId:a}=e;try{await $s(s,t)}catch(c){if(a)return f.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw c}try{const c=await ks(e);return r.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!Os(l)){if(r.deleteThrottleMetadata(o),a)return f.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw c}const u=Number((i=l==null?void 0:l.customData)===null||i===void 0?void 0:i.httpStatus)===503?ye(n,r.intervalMillis,Ss):ye(n,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return r.setThrottleMetadata(o,h),f.debug(`Calling attemptFetch again in ${u} millis`),It(e,h,s,r)}}function $s(e,t){return new Promise((n,s)=>{const r=Math.max(t-Date.now(),0),i=setTimeout(n,r);e.addEventListener(()=>{clearTimeout(i),s(g.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function Os(e){if(!(e instanceof k)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class Ms{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function Rs(e,t,n,s,r){if(r&&r.global){e("event",n,s);return}else{const i=await t,o=Object.assign(Object.assign({},s),{send_to:i});e("event",n,o)}}async function xs(){if(Ue())try{await ze()}catch(e){return f.warn(g.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return f.warn(g.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Ls(e,t,n,s,r,i,o){var a;const c=Bs(e);c.then(p=>{n[p.measurementId]=p.appId,e.options.measurementId&&p.measurementId!==e.options.measurementId&&f.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>f.error(p)),t.push(c);const l=xs().then(p=>{if(p)return s.getId()}),[u,h]=await Promise.all([c,l]);_s(i)||ys(i,u.measurementId),r("js",new Date);const m=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return m[fs]="firebase",m.update=!0,h!=null&&(m[us]=h),r("config",u.measurementId,m),u.measurementId}class Ps{constructor(t){this.app=t}_delete(){return delete $[this.app.options.appId],Promise.resolve()}}let $={},$e=[];const Oe={};let X="dataLayer",Ns="gtag",Me,Et,Re=!1;function js(){const e=[];if(Zt()&&e.push("This is a browser extension environment."),Qt()||e.push("Cookies are not available."),e.length>0){const t=e.map((s,r)=>`(${r+1}) ${s}`).join(" "),n=g.create("invalid-analytics-context",{errorInfo:t});f.warn(n.message)}}function Fs(e,t,n){js();const s=e.options.appId;if(!s)throw g.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)f.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw g.create("no-api-key");if($[s]!=null)throw g.create("already-exists",{id:s});if(!Re){ws(X);const{wrappedGtag:i,gtagCore:o}=vs($,$e,Oe,X,Ns);Et=i,Me=o,Re=!0}return $[s]=Ls(e,$e,Oe,t,Me,X,n),new Ps(e)}function Hs(e=rr()){e=We(e);const t=j(e,P);return t.isInitialized()?t.getImmediate():Vs(e)}function Vs(e,t={}){const n=j(e,P);if(n.isInitialized()){const r=n.getImmediate();if(R(t,n.getOptions()))return r;throw g.create("already-initialized")}return n.initialize({options:t})}function Us(e,t,n,s){e=We(e),Rs(Et,$[e.app.options.appId],t,n,s).catch(r=>f.error(r))}const xe="@firebase/analytics",Le="0.10.0";function zs(){A(new T(P,(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();return Fs(s,r,n)},"PUBLIC")),A(new T("analytics-internal",e,"PRIVATE")),I(xe,Le),I(xe,Le,"esm2017");function e(t){try{const n=t.getProvider(P).getImmediate();return{logEvent:(s,r,i)=>Us(n,s,r,i)}}catch(n){throw g.create("interop-component-reg-failed",{reason:n})}}}zs();const Ws={apiKey:"AIzaSyBh_gP2-PCBwVg50C_dx9X-7DONSJushXU",authDomain:"book-team-project-js-04.firebaseapp.com",projectId:"book-team-project-js-04",storageBucket:"book-team-project-js-04.appspot.com",messagingSenderId:"662639254549",appId:"1:662639254549:web:06bfb144698d9a8531821c",measurementId:"G-GT0HHT9VRW"},qs=Ye(Ws),Gs=Hs(qs);console.log(Gs);
