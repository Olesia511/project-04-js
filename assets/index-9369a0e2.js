import"./styles-c877ff20.js";const oe="https://books-backend.p.goit.global/",_t="books/category-list",St="books/top-books",Tt="books/category";async function At(){return await(await axios.get(`${oe}${_t}`)).data}async function Ct(){return await(await axios.get(`${oe}${St}`)).data}async function Dt(e){return await(await axios.get(`${oe}${Tt}?category=${e}`)).data}const pe="Hardcover Fiction",ge=document.querySelector(".title-category");function kt(e){Dt(e).then(t=>{console.log("Get book by category",t),Bt(t)}).catch(t=>console.log(t))}function Bt(e){const t=document.querySelector(".list-books-by-category"),n=e.map(({book_image:r,title:i,author:o,_id:a})=>`<li data-book-id='${a}' class="element-books-by-category js-target">
      <img src="${r}" alt="${i}" class="img-books-by-category js-target" />
      <div class="title-container js-target">
      <h3 class="name-books-by-category js-target">${i}</h3>
      <p class="title-books-by-category js-target">${o}</p>
      </div>
      </li>`).join("");return t.innerHTML=n,ge.textContent=pe,$t(ge,pe),document.querySelectorAll(".name-books-by-category").forEach(r=>{Ot()}),Mt(),n}function $t(e,t){const n=t.split(" "),s=n[n.length-1];let r="";n.forEach(i=>{r!==""&&(r+=" "),i===s?r+=`<span class="title-category-part">${i}</span>`:r+=i}),e.innerHTML=r}function Ot(){const e=window.innerWidth;let t;e>=768?t=19:t=31,document.querySelectorAll(".name-books-by-category").forEach(s=>{let r=s.textContent;if(r.length>t){const i=r.split(" ");let o="";for(const a of i)if(o.length+a.length<=t)o+=(o===""?"":" ")+a;else break;s.textContent=o+(o.length<r.length?"...":"")}})}function Mt(){const e=window.innerWidth;let t,n;e>=768?(t=32,n=5):(t=45,n=8),document.querySelectorAll(".title-books-by-category").forEach(r=>{const i=r.textContent,o=i.split(" ");if(o.length>n||i.length>t){const a=o.slice(0,n).join(" ");r.textContent=`${a}${o.length>n?"...":""}`}})}const Rt=document.querySelector(".container-best-books");Ct().then(e=>(console.log("getTopBooksArr",e),e.map(n=>{const{list_name:s,books:r}=n,i=`<h2 class="category-title">${s}</h2>`,o=r.map(a=>Lt(a));Rt.insertAdjacentHTML("beforeend",i+o)}))).catch(e=>console.log("rej",e));function Lt(e){const{_id:t,author:n,book_image:s,title:r}=e;return`<ul class="book-list">
  <li data-book-id="${t}"  class="book-item js-target">
    <img class="book-img js-target" src="${s}" alt="${r}" />
    <h2 class="book-title js-target">${r}</h2>
    <h3 class="author js-target">${n}</h3>
  </li>
  <button class="see-more-btn">SEE MORE</button>
</ul>`}const M=document.querySelector(".categories-list");let S=null;At().then(e=>{const t='<li class="list-categories-item">All categories</li>'+e.map(({list_name:s})=>`<li class="list-categories-item">${s}</li>`).join("");console.log("html",t),M.insertAdjacentHTML("beforeend",t),console.log("getCategoryListArr",e),S=M.firstChild,console.log(S),Pt()}).catch(e=>console.log("rej",e));M.addEventListener("click",xt);function xt(e){if(e.target===S)return;if(e.target===e.currentTarget)return;e.target,M.firstChild,Nt();const t=e.target.textContent;console.log(t),kt(t),S=e.target,S.classList.add("active-list-item")}function Pt(){S.classList.add("active-list-item")}function Nt(){S.classList.remove("active-list-item")}const jt=[{title:"Save the Children",url:"https://www.savethechildren.net/what-we-do/emergencies/ukraine-crisis",img:"./img/save-the-children.png",img2x:"./img/save-the-children-2x.png"},{title:"Project HOPE",url:"https://www.projecthope.org/country/ukraine/",img:"./img/project-hope.png",img2x:"./img/project-hope-2x.png"},{title:"International Medical Corps",url:"https://internationalmedicalcorps.org/country/ukraine/",img:"./img/international-medical-corps.png",img2x:"./img/international-medical-corps-2x.png"},{title:"RAZOM",url:"https://www.razomforukraine.org/",img:"./img/razom.png",img2x:"./img/razom-2x.png"},{title:"Action against hunger",url:"https://www.actionagainsthunger.org/location/europe/ukraine/",img:"./img/action-against-hunger.png",img2x:"./img/action-against-hunger-2x.png"},{title:"Serhiy Prytula Charity Foundation",url:"https://prytulafoundation.org/en",img:"./img/charity-foundation-sergiy-prytula.png",img2x:"./img/charity-foundation-sergiy-prytula-2x.png"},{title:"Medicins Sans Frontieres",url:"https://www.msf.org/ukraine",img:"./img/medecins-sans-frontieres.png",img2x:"./img/medecins-sans-frontieres-2x.png"},{title:"World vision",url:"https://www.wvi.org/emergencies/ukraine",img:"./img/world-vision.png",img2x:"./img/world-vision-2x.png"},{title:"UNITED24",url:"https://u24.gov.ua/uk",img:"./img/united24.png",img2x:"./img/united24-2x.png"}],me=document.querySelector(".list"),Pe=document.getElementById("toggleButton"),Ft=Pe.querySelector("svg use");let B=!0;function Ne(){me.innerHTML="";const e=B?0:3,t=B?6:9;jt.slice(e,t).forEach((n,s)=>{const r=document.createElement("li"),i=document.createElement("a"),o=document.createElement("span"),a=(e+s+1).toString().padStart(2,"0");o.textContent=a;const c=document.createElement("img");c.srcset=`${n.img} 1x, ${n.img2x} 2x`,c.src=n.img,c.alt=n.title,c.classList.add("white-image"),i.href=n.url,o.classList.add("number"),i.appendChild(c),r.appendChild(o),r.appendChild(i),me.appendChild(r)}),B=!B,Ft.setAttribute("href",B?"./img/icon.svg#icon-support-ukr-scroll-up":"./img/icon.svg#icon-support-ukr-scroll-down")}Pe.addEventListener("click",Ne);Ne();const je=function(e){const t=[];let n=0;for(let s=0;s<e.length;s++){let r=e.charCodeAt(s);r<128?t[n++]=r:r<2048?(t[n++]=r>>6|192,t[n++]=r&63|128):(r&64512)===55296&&s+1<e.length&&(e.charCodeAt(s+1)&64512)===56320?(r=65536+((r&1023)<<10)+(e.charCodeAt(++s)&1023),t[n++]=r>>18|240,t[n++]=r>>12&63|128,t[n++]=r>>6&63|128,t[n++]=r&63|128):(t[n++]=r>>12|224,t[n++]=r>>6&63|128,t[n++]=r&63|128)}return t},Ht=function(e){const t=[];let n=0,s=0;for(;n<e.length;){const r=e[n++];if(r<128)t[s++]=String.fromCharCode(r);else if(r>191&&r<224){const i=e[n++];t[s++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=e[n++],o=e[n++],a=e[n++],c=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;t[s++]=String.fromCharCode(55296+(c>>10)),t[s++]=String.fromCharCode(56320+(c&1023))}else{const i=e[n++],o=e[n++];t[s++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return t.join("")},Fe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let r=0;r<e.length;r+=3){const i=e[r],o=r+1<e.length,a=o?e[r+1]:0,c=r+2<e.length,l=c?e[r+2]:0,u=i>>2,h=(i&3)<<4|a>>4;let m=(a&15)<<2|l>>6,p=l&63;c||(p=64,o||(m=64)),s.push(n[u],n[h],n[m],n[p])}return s.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(je(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Ht(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let r=0;r<e.length;){const i=n[e.charAt(r++)],a=r<e.length?n[e.charAt(r)]:0;++r;const l=r<e.length?n[e.charAt(r)]:64;++r;const h=r<e.length?n[e.charAt(r)]:64;if(++r,i==null||a==null||l==null||h==null)throw new Vt;const m=i<<2|a>>4;if(s.push(m),l!==64){const p=a<<4&240|l>>2;if(s.push(p),h!==64){const vt=l<<6&192|h;s.push(vt)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Vt extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ut=function(e){const t=je(e);return Fe.encodeByteArray(t,!0)},He=function(e){return Ut(e).replace(/\./g,"")},zt=function(e){try{return Fe.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Wt(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof{}<"u")return{};throw new Error("Unable to locate {} object.")}const qt=()=>Wt().__FIREBASE_DEFAULTS__,Gt=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Kt=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&zt(e[1]);return t&&JSON.parse(t)},Yt=()=>{try{return qt()||Gt()||Kt()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Ve=()=>{var e;return(e=Yt())===null||e===void 0?void 0:e.config};class Jt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,s))}}}function Xt(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function Ue(){try{return typeof indexedDB=="object"}catch{return!1}}function ze(){return new Promise((e,t)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(s);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(s),e(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var i;t(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){t(n)}})}function Zt(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Qt="FirebaseError";class k extends Error{constructor(t,n,s){super(n),this.code=t,this.customData=s,this.name=Qt,Object.setPrototypeOf(this,k.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,N.prototype.create)}}class N{constructor(t,n,s){this.service=t,this.serviceName=n,this.errors=s}create(t,...n){const s=n[0]||{},r=`${this.service}/${t}`,i=this.errors[t],o=i?en(i,s):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new k(r,a,s)}}function en(e,t){return e.replace(tn,(n,s)=>{const r=t[s];return r!=null?String(r):`<${s}?>`})}const tn=/\{\$([^}]+)}/g;function R(e,t){if(e===t)return!0;const n=Object.keys(e),s=Object.keys(t);for(const r of n){if(!s.includes(r))return!1;const i=e[r],o=t[r];if(be(i)&&be(o)){if(!R(i,o))return!1}else if(i!==o)return!1}for(const r of s)if(!n.includes(r))return!1;return!0}function be(e){return e!==null&&typeof e=="object"}const nn=1e3,rn=2,sn=4*60*60*1e3,on=.5;function ye(e,t=nn,n=rn){const s=t*Math.pow(n,e),r=Math.round(on*s*(Math.random()-.5)*2);return Math.min(sn,s+r)}function We(e){return e&&e._delegate?e._delegate:e}class E{constructor(t,n,s){this.name=t,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const v="[DEFAULT]";class an{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const s=new Jt;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&s.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),r=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(ln(t))try{this.getOrInitializeService({instanceIdentifier:v})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:r});s.resolve(i)}catch{}}}}clearInstance(t=v){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=v){return this.instances.has(t)}getOptions(t=v){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);s===a&&o.resolve(r)}return r}onInit(t,n){var s;const r=this.normalizeInstanceIdentifier(n),i=(s=this.onInitCallbacks.get(r))!==null&&s!==void 0?s:new Set;i.add(t),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&t(o,r),()=>{i.delete(t)}}invokeOnInitCallbacks(t,n){const s=this.onInitCallbacks.get(n);if(s)for(const r of s)try{r(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cn(t),options:n}),this.instances.set(t,s),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=v){return this.component?this.component.multipleInstances?t:v:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cn(e){return e===v?void 0:e}function ln(e){return e.instantiationMode==="EAGER"}class dn{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new an(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}var d;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(d||(d={}));const un={debug:d.DEBUG,verbose:d.VERBOSE,info:d.INFO,warn:d.WARN,error:d.ERROR,silent:d.SILENT},fn=d.INFO,hn={[d.DEBUG]:"log",[d.VERBOSE]:"log",[d.INFO]:"info",[d.WARN]:"warn",[d.ERROR]:"error"},pn=(e,t,...n)=>{if(t<e.logLevel)return;const s=new Date().toISOString(),r=hn[t];if(r)console[r](`[${s}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class qe{constructor(t){this.name=t,this._logLevel=fn,this._logHandler=pn,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in d))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?un[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,d.DEBUG,...t),this._logHandler(this,d.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,d.VERBOSE,...t),this._logHandler(this,d.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,d.INFO,...t),this._logHandler(this,d.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,d.WARN,...t),this._logHandler(this,d.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,d.ERROR,...t),this._logHandler(this,d.ERROR,...t)}}const gn=(e,t)=>t.some(n=>e instanceof n);let we,Ie;function mn(){return we||(we=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bn(){return Ie||(Ie=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ge=new WeakMap,Z=new WeakMap,Ke=new WeakMap,V=new WeakMap,ae=new WeakMap;function yn(e){const t=new Promise((n,s)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(b(e.result)),r()},o=()=>{s(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Ge.set(n,e)}).catch(()=>{}),ae.set(t,e),t}function wn(e){if(Z.has(e))return;const t=new Promise((n,s)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});Z.set(e,t)}let Q={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return Z.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Ke.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return b(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function In(e){Q=e(Q)}function En(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(U(this),t,...n);return Ke.set(s,t.sort?t.sort():[t]),b(s)}:bn().includes(e)?function(...t){return e.apply(U(this),t),b(Ge.get(this))}:function(...t){return b(e.apply(U(this),t))}}function vn(e){return typeof e=="function"?En(e):(e instanceof IDBTransaction&&wn(e),gn(e,mn())?new Proxy(e,Q):e)}function b(e){if(e instanceof IDBRequest)return yn(e);if(V.has(e))return V.get(e);const t=vn(e);return t!==e&&(V.set(e,t),ae.set(t,e)),t}const U=e=>ae.get(e);function _n(e,t,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(e,t),a=b(o);return s&&o.addEventListener("upgradeneeded",c=>{s(b(o.result),c.oldVersion,c.newVersion,b(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",l=>r(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const Sn=["get","getKey","getAll","getAllKeys","count"],Tn=["put","add","delete","clear"],z=new Map;function Ee(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(z.get(t))return z.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,r=Tn.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||Sn.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,r?"readwrite":"readonly");let l=c.store;return s&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),r&&c.done]))[0]};return z.set(t,i),i}In(e=>({...e,get:(t,n,s)=>Ee(t,n)||e.get(t,n,s),has:(t,n)=>!!Ee(t,n)||e.has(t,n)}));class An{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Cn(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function Cn(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ee="@firebase/app",ve="0.9.20";const T=new qe("@firebase/app"),Dn="@firebase/app-compat",kn="@firebase/analytics-compat",Bn="@firebase/analytics",$n="@firebase/app-check-compat",On="@firebase/app-check",Mn="@firebase/auth",Rn="@firebase/auth-compat",Ln="@firebase/database",xn="@firebase/database-compat",Pn="@firebase/functions",Nn="@firebase/functions-compat",jn="@firebase/installations",Fn="@firebase/installations-compat",Hn="@firebase/messaging",Vn="@firebase/messaging-compat",Un="@firebase/performance",zn="@firebase/performance-compat",Wn="@firebase/remote-config",qn="@firebase/remote-config-compat",Gn="@firebase/storage",Kn="@firebase/storage-compat",Yn="@firebase/firestore",Jn="@firebase/firestore-compat",Xn="firebase";const te="[DEFAULT]",Zn={[ee]:"fire-core",[Dn]:"fire-core-compat",[Bn]:"fire-analytics",[kn]:"fire-analytics-compat",[On]:"fire-app-check",[$n]:"fire-app-check-compat",[Mn]:"fire-auth",[Rn]:"fire-auth-compat",[Ln]:"fire-rtdb",[xn]:"fire-rtdb-compat",[Pn]:"fire-fn",[Nn]:"fire-fn-compat",[jn]:"fire-iid",[Fn]:"fire-iid-compat",[Hn]:"fire-fcm",[Vn]:"fire-fcm-compat",[Un]:"fire-perf",[zn]:"fire-perf-compat",[Wn]:"fire-rc",[qn]:"fire-rc-compat",[Gn]:"fire-gcs",[Kn]:"fire-gcs-compat",[Yn]:"fire-fst",[Jn]:"fire-fst-compat","fire-js":"fire-js",[Xn]:"fire-js-all"};const L=new Map,ne=new Map;function Qn(e,t){try{e.container.addComponent(t)}catch(n){T.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function A(e){const t=e.name;if(ne.has(t))return T.debug(`There were multiple attempts to register component ${t}.`),!1;ne.set(t,e);for(const n of L.values())Qn(n,e);return!0}function j(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const er={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},y=new N("app","Firebase",er);class tr{constructor(t,n,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new E("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw y.create("app-deleted",{appName:this._name})}}function Ye(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const s=Object.assign({name:te,automaticDataCollectionEnabled:!1},t),r=s.name;if(typeof r!="string"||!r)throw y.create("bad-app-name",{appName:String(r)});if(n||(n=Ve()),!n)throw y.create("no-options");const i=L.get(r);if(i){if(R(n,i.options)&&R(s,i.config))return i;throw y.create("duplicate-app",{appName:r})}const o=new dn(r);for(const c of ne.values())o.addComponent(c);const a=new tr(n,s,o);return L.set(r,a),a}function nr(e=te){const t=L.get(e);if(!t&&e===te&&Ve())return Ye();if(!t)throw y.create("no-app",{appName:e});return t}function w(e,t,n){var s;let r=(s=Zn[e])!==null&&s!==void 0?s:e;n&&(r+=`-${n}`);const i=r.match(/\s|\//),o=t.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${t}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),T.warn(a.join(" "));return}A(new E(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const rr="firebase-heartbeat-database",sr=1,O="firebase-heartbeat-store";let W=null;function Je(){return W||(W=_n(rr,sr,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(O)}}}).catch(e=>{throw y.create("idb-open",{originalErrorMessage:e.message})})),W}async function ir(e){try{return await(await Je()).transaction(O).objectStore(O).get(Xe(e))}catch(t){if(t instanceof k)T.warn(t.message);else{const n=y.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});T.warn(n.message)}}}async function _e(e,t){try{const s=(await Je()).transaction(O,"readwrite");await s.objectStore(O).put(t,Xe(e)),await s.done}catch(n){if(n instanceof k)T.warn(n.message);else{const s=y.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});T.warn(s.message)}}}function Xe(e){return`${e.name}!${e.options.appId}`}const or=1024,ar=30*24*60*60*1e3;class cr{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new dr(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Se();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(r=>r.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const i=new Date(r.date).valueOf();return Date.now()-i<=ar}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Se(),{heartbeatsToSend:n,unsentEntries:s}=lr(this._heartbeatsCache.heartbeats),r=He(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function Se(){return new Date().toISOString().substring(0,10)}function lr(e,t=or){const n=[];let s=e.slice();for(const r of e){const i=n.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),Te(n)>t){i.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Te(n)>t){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class dr{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Ue()?ze().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await ir(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return _e(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return _e(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Te(e){return He(JSON.stringify({version:2,heartbeats:e})).length}function ur(e){A(new E("platform-logger",t=>new An(t),"PRIVATE")),A(new E("heartbeat",t=>new cr(t),"PRIVATE")),w(ee,ve,e),w(ee,ve,"esm2017"),w("fire-js","")}ur("");var fr="firebase",hr="10.5.0";w(fr,hr,"app");const pr=(e,t)=>t.some(n=>e instanceof n);let Ae,Ce;function gr(){return Ae||(Ae=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mr(){return Ce||(Ce=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ze=new WeakMap,re=new WeakMap,Qe=new WeakMap,q=new WeakMap,ce=new WeakMap;function br(e){const t=new Promise((n,s)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{n(I(e.result)),r()},o=()=>{s(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&Ze.set(n,e)}).catch(()=>{}),ce.set(t,e),t}function yr(e){if(re.has(e))return;const t=new Promise((n,s)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{n(),r()},o=()=>{s(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});re.set(e,t)}let se={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return re.get(e);if(t==="objectStoreNames")return e.objectStoreNames||Qe.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return I(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function wr(e){se=e(se)}function Ir(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const s=e.call(G(this),t,...n);return Qe.set(s,t.sort?t.sort():[t]),I(s)}:mr().includes(e)?function(...t){return e.apply(G(this),t),I(Ze.get(this))}:function(...t){return I(e.apply(G(this),t))}}function Er(e){return typeof e=="function"?Ir(e):(e instanceof IDBTransaction&&yr(e),pr(e,gr())?new Proxy(e,se):e)}function I(e){if(e instanceof IDBRequest)return br(e);if(q.has(e))return q.get(e);const t=Er(e);return t!==e&&(q.set(e,t),ce.set(t,e)),t}const G=e=>ce.get(e);function vr(e,t,{blocked:n,upgrade:s,blocking:r,terminated:i}={}){const o=indexedDB.open(e,t),a=I(o);return s&&o.addEventListener("upgradeneeded",c=>{s(I(o.result),c.oldVersion,c.newVersion,I(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{i&&c.addEventListener("close",()=>i()),r&&c.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const _r=["get","getKey","getAll","getAllKeys","count"],Sr=["put","add","delete","clear"],K=new Map;function De(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(K.get(t))return K.get(t);const n=t.replace(/FromIndex$/,""),s=t!==n,r=Sr.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(r||_r.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,r?"readwrite":"readonly");let l=c.store;return s&&(l=l.index(a.shift())),(await Promise.all([l[n](...a),r&&c.done]))[0]};return K.set(t,i),i}wr(e=>({...e,get:(t,n,s)=>De(t,n)||e.get(t,n,s),has:(t,n)=>!!De(t,n)||e.has(t,n)}));const et="@firebase/installations",le="0.6.4";const tt=1e4,nt=`w:${le}`,rt="FIS_v2",Tr="https://firebaseinstallations.googleapis.com/v1",Ar=60*60*1e3,Cr="installations",Dr="Installations";const kr={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},C=new N(Cr,Dr,kr);function st(e){return e instanceof k&&e.code.includes("request-failed")}function it({projectId:e}){return`${Tr}/projects/${e}/installations`}function ot(e){return{token:e.token,requestStatus:2,expiresIn:$r(e.expiresIn),creationTime:Date.now()}}async function at(e,t){const s=(await t.json()).error;return C.create("request-failed",{requestName:e,serverCode:s.code,serverMessage:s.message,serverStatus:s.status})}function ct({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function Br(e,{refreshToken:t}){const n=ct(e);return n.append("Authorization",Or(t)),n}async function lt(e){const t=await e();return t.status>=500&&t.status<600?e():t}function $r(e){return Number(e.replace("s","000"))}function Or(e){return`${rt} ${e}`}async function Mr({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const s=it(e),r=ct(e),i=t.getImmediate({optional:!0});if(i){const l=await i.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const o={fid:n,authVersion:rt,appId:e.appId,sdkVersion:nt},a={method:"POST",headers:r,body:JSON.stringify(o)},c=await lt(()=>fetch(s,a));if(c.ok){const l=await c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:ot(l.authToken)}}else throw await at("Create Installation",c)}function dt(e){return new Promise(t=>{setTimeout(t,e)})}function Rr(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}const Lr=/^[cdef][\w-]{21}$/,ie="";function xr(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=Pr(e);return Lr.test(n)?n:ie}catch{return ie}}function Pr(e){return Rr(e).substr(0,22)}function F(e){return`${e.appName}!${e.appId}`}const ut=new Map;function ft(e,t){const n=F(e);ht(n,t),Nr(n,t)}function ht(e,t){const n=ut.get(e);if(n)for(const s of n)s(t)}function Nr(e,t){const n=jr();n&&n.postMessage({key:e,fid:t}),Fr()}let _=null;function jr(){return!_&&"BroadcastChannel"in self&&(_=new BroadcastChannel("[Firebase] FID Change"),_.onmessage=e=>{ht(e.data.key,e.data.fid)}),_}function Fr(){ut.size===0&&_&&(_.close(),_=null)}const Hr="firebase-installations-database",Vr=1,D="firebase-installations-store";let Y=null;function de(){return Y||(Y=vr(Hr,Vr,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(D)}}})),Y}async function x(e,t){const n=F(e),r=(await de()).transaction(D,"readwrite"),i=r.objectStore(D),o=await i.get(n);return await i.put(t,n),await r.done,(!o||o.fid!==t.fid)&&ft(e,t.fid),t}async function pt(e){const t=F(e),s=(await de()).transaction(D,"readwrite");await s.objectStore(D).delete(t),await s.done}async function H(e,t){const n=F(e),r=(await de()).transaction(D,"readwrite"),i=r.objectStore(D),o=await i.get(n),a=t(o);return a===void 0?await i.delete(n):await i.put(a,n),await r.done,a&&(!o||o.fid!==a.fid)&&ft(e,a.fid),a}async function ue(e){let t;const n=await H(e.appConfig,s=>{const r=Ur(s),i=zr(e,r);return t=i.registrationPromise,i.installationEntry});return n.fid===ie?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function Ur(e){const t=e||{fid:xr(),registrationStatus:0};return gt(t)}function zr(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const r=Promise.reject(C.create("app-offline"));return{installationEntry:t,registrationPromise:r}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},s=Wr(e,n);return{installationEntry:n,registrationPromise:s}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:qr(e)}:{installationEntry:t}}async function Wr(e,t){try{const n=await Mr(e,t);return x(e.appConfig,n)}catch(n){throw st(n)&&n.customData.serverCode===409?await pt(e.appConfig):await x(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function qr(e){let t=await ke(e.appConfig);for(;t.registrationStatus===1;)await dt(100),t=await ke(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:s}=await ue(e);return s||n}return t}function ke(e){return H(e,t=>{if(!t)throw C.create("installation-not-found");return gt(t)})}function gt(e){return Gr(e)?{fid:e.fid,registrationStatus:0}:e}function Gr(e){return e.registrationStatus===1&&e.registrationTime+tt<Date.now()}async function Kr({appConfig:e,heartbeatServiceProvider:t},n){const s=Yr(e,n),r=Br(e,n),i=t.getImmediate({optional:!0});if(i){const l=await i.getHeartbeatsHeader();l&&r.append("x-firebase-client",l)}const o={installation:{sdkVersion:nt,appId:e.appId}},a={method:"POST",headers:r,body:JSON.stringify(o)},c=await lt(()=>fetch(s,a));if(c.ok){const l=await c.json();return ot(l)}else throw await at("Generate Auth Token",c)}function Yr(e,{fid:t}){return`${it(e)}/${t}/authTokens:generate`}async function fe(e,t=!1){let n;const s=await H(e.appConfig,i=>{if(!mt(i))throw C.create("not-registered");const o=i.authToken;if(!t&&Zr(o))return i;if(o.requestStatus===1)return n=Jr(e,t),i;{if(!navigator.onLine)throw C.create("app-offline");const a=es(i);return n=Xr(e,a),a}});return n?await n:s.authToken}async function Jr(e,t){let n=await Be(e.appConfig);for(;n.authToken.requestStatus===1;)await dt(100),n=await Be(e.appConfig);const s=n.authToken;return s.requestStatus===0?fe(e,t):s}function Be(e){return H(e,t=>{if(!mt(t))throw C.create("not-registered");const n=t.authToken;return ts(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function Xr(e,t){try{const n=await Kr(e,t),s=Object.assign(Object.assign({},t),{authToken:n});return await x(e.appConfig,s),n}catch(n){if(st(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await pt(e.appConfig);else{const s=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await x(e.appConfig,s)}throw n}}function mt(e){return e!==void 0&&e.registrationStatus===2}function Zr(e){return e.requestStatus===2&&!Qr(e)}function Qr(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Ar}function es(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function ts(e){return e.requestStatus===1&&e.requestTime+tt<Date.now()}async function ns(e){const t=e,{installationEntry:n,registrationPromise:s}=await ue(t);return s?s.catch(console.error):fe(t).catch(console.error),n.fid}async function rs(e,t=!1){const n=e;return await ss(n),(await fe(n,t)).token}async function ss(e){const{registrationPromise:t}=await ue(e);t&&await t}function is(e){if(!e||!e.options)throw J("App Configuration");if(!e.name)throw J("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw J(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function J(e){return C.create("missing-app-config-values",{valueName:e})}const bt="installations",os="installations-internal",as=e=>{const t=e.getProvider("app").getImmediate(),n=is(t),s=j(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:s,_delete:()=>Promise.resolve()}},cs=e=>{const t=e.getProvider("app").getImmediate(),n=j(t,bt).getImmediate();return{getId:()=>ns(n),getToken:r=>rs(n,r)}};function ls(){A(new E(bt,as,"PUBLIC")),A(new E(os,cs,"PRIVATE"))}ls();w(et,le);w(et,le,"esm2017");const P="analytics",ds="firebase_id",us="origin",fs=60*1e3,hs="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",he="https://www.googletagmanager.com/gtag/js";const f=new qe("@firebase/analytics");const ps={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["no-client-id"]:'The "client_id" field is empty.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},g=new N("analytics","Analytics",ps);function gs(e){if(!e.startsWith(he)){const t=g.create("invalid-gtag-resource",{gtagURL:e});return f.warn(t.message),""}return e}function yt(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function ms(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function bs(e,t){const n=ms("firebase-js-sdk-policy",{createScriptURL:gs}),s=document.createElement("script"),r=`${he}?l=${e}&id=${t}`;s.src=n?n==null?void 0:n.createScriptURL(r):r,s.async=!0,document.head.appendChild(s)}function ys(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function ws(e,t,n,s,r,i){const o=s[r];try{if(o)await t[o];else{const c=(await yt(n)).find(l=>l.measurementId===r);c&&await t[c.appId]}}catch(a){f.error(a)}e("config",r,i)}async function Is(e,t,n,s,r){try{let i=[];if(r&&r.send_to){let o=r.send_to;Array.isArray(o)||(o=[o]);const a=await yt(n);for(const c of o){const l=a.find(h=>h.measurementId===c),u=l&&t[l.appId];if(u)i.push(u);else{i=[];break}}}i.length===0&&(i=Object.values(t)),await Promise.all(i),e("event",s,r||{})}catch(i){f.error(i)}}function Es(e,t,n,s){async function r(i,...o){try{if(i==="event"){const[a,c]=o;await Is(e,t,n,a,c)}else if(i==="config"){const[a,c]=o;await ws(e,t,n,s,a,c)}else if(i==="consent"){const[a]=o;e("consent","update",a)}else if(i==="get"){const[a,c,l]=o;e("get",a,c,l)}else if(i==="set"){const[a]=o;e("set",a)}else e(i,...o)}catch(a){f.error(a)}}return r}function vs(e,t,n,s,r){let i=function(...o){window[s].push(arguments)};return window[r]&&typeof window[r]=="function"&&(i=window[r]),window[r]=Es(i,e,t,n),{gtagCore:i,wrappedGtag:window[r]}}function _s(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(he)&&n.src.includes(e))return n;return null}const Ss=30,Ts=1e3;class As{constructor(t={},n=Ts){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const wt=new As;function Cs(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function Ds(e){var t;const{appId:n,apiKey:s}=e,r={method:"GET",headers:Cs(s)},i=hs.replace("{app-id}",n),o=await fetch(i,r);if(o.status!==200&&o.status!==304){let a="";try{const c=await o.json();!((t=c.error)===null||t===void 0)&&t.message&&(a=c.error.message)}catch{}throw g.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function ks(e,t=wt,n){const{appId:s,apiKey:r,measurementId:i}=e.options;if(!s)throw g.create("no-app-id");if(!r){if(i)return{measurementId:i,appId:s};throw g.create("no-api-key")}const o=t.getThrottleMetadata(s)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new Os;return setTimeout(async()=>{a.abort()},n!==void 0?n:fs),It({appId:s,apiKey:r,measurementId:i},o,a,t)}async function It(e,{throttleEndTimeMillis:t,backoffCount:n},s,r=wt){var i;const{appId:o,measurementId:a}=e;try{await Bs(s,t)}catch(c){if(a)return f.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw c}try{const c=await Ds(e);return r.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!$s(l)){if(r.deleteThrottleMetadata(o),a)return f.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw c}const u=Number((i=l==null?void 0:l.customData)===null||i===void 0?void 0:i.httpStatus)===503?ye(n,r.intervalMillis,Ss):ye(n,r.intervalMillis),h={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return r.setThrottleMetadata(o,h),f.debug(`Calling attemptFetch again in ${u} millis`),It(e,h,s,r)}}function Bs(e,t){return new Promise((n,s)=>{const r=Math.max(t-Date.now(),0),i=setTimeout(n,r);e.addEventListener(()=>{clearTimeout(i),s(g.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function $s(e){if(!(e instanceof k)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class Os{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function Ms(e,t,n,s,r){if(r&&r.global){e("event",n,s);return}else{const i=await t,o=Object.assign(Object.assign({},s),{send_to:i});e("event",n,o)}}async function Rs(){if(Ue())try{await ze()}catch(e){return f.warn(g.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return f.warn(g.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Ls(e,t,n,s,r,i,o){var a;const c=ks(e);c.then(p=>{n[p.measurementId]=p.appId,e.options.measurementId&&p.measurementId!==e.options.measurementId&&f.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>f.error(p)),t.push(c);const l=Rs().then(p=>{if(p)return s.getId()}),[u,h]=await Promise.all([c,l]);_s(i)||bs(i,u.measurementId),r("js",new Date);const m=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return m[us]="firebase",m.update=!0,h!=null&&(m[ds]=h),r("config",u.measurementId,m),u.measurementId}class xs{constructor(t){this.app=t}_delete(){return delete $[this.app.options.appId],Promise.resolve()}}let $={},$e=[];const Oe={};let X="dataLayer",Ps="gtag",Me,Et,Re=!1;function Ns(){const e=[];if(Xt()&&e.push("This is a browser extension environment."),Zt()||e.push("Cookies are not available."),e.length>0){const t=e.map((s,r)=>`(${r+1}) ${s}`).join(" "),n=g.create("invalid-analytics-context",{errorInfo:t});f.warn(n.message)}}function js(e,t,n){Ns();const s=e.options.appId;if(!s)throw g.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)f.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw g.create("no-api-key");if($[s]!=null)throw g.create("already-exists",{id:s});if(!Re){ys(X);const{wrappedGtag:i,gtagCore:o}=vs($,$e,Oe,X,Ps);Et=i,Me=o,Re=!0}return $[s]=Ls(e,$e,Oe,t,Me,X,n),new xs(e)}function Fs(e=nr()){e=We(e);const t=j(e,P);return t.isInitialized()?t.getImmediate():Hs(e)}function Hs(e,t={}){const n=j(e,P);if(n.isInitialized()){const r=n.getImmediate();if(R(t,n.getOptions()))return r;throw g.create("already-initialized")}return n.initialize({options:t})}function Vs(e,t,n,s){e=We(e),Ms(Et,$[e.app.options.appId],t,n,s).catch(r=>f.error(r))}const Le="@firebase/analytics",xe="0.10.0";function Us(){A(new E(P,(t,{options:n})=>{const s=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();return js(s,r,n)},"PUBLIC")),A(new E("analytics-internal",e,"PRIVATE")),w(Le,xe),w(Le,xe,"esm2017");function e(t){try{const n=t.getProvider(P).getImmediate();return{logEvent:(s,r,i)=>Vs(n,s,r,i)}}catch(n){throw g.create("interop-component-reg-failed",{reason:n})}}}Us();const zs={apiKey:"AIzaSyBh_gP2-PCBwVg50C_dx9X-7DONSJushXU",authDomain:"book-team-project-js-04.firebaseapp.com",projectId:"book-team-project-js-04",storageBucket:"book-team-project-js-04.appspot.com",messagingSenderId:"662639254549",appId:"1:662639254549:web:06bfb144698d9a8531821c",measurementId:"G-GT0HHT9VRW"},Ws=Ye(zs),qs=Fs(Ws);console.log(qs);
